(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();let c=null,l=document.querySelector(".install_app");const i=new Worker(new URL(""+new URL("db-df6105ea.js",import.meta.url).href,self.location),{type:"module"}),b=document.querySelector("#btnIniciarBaseDeDatos"),u=document.querySelector("#btnInsertar"),p=document.querySelector("#btnObtener"),m=document.querySelector("#nombre"),f=document.querySelector("#fechaNacimiento"),d=document.querySelector("#contenedorPersonas");u.addEventListener("click",()=>{i.postMessage(["insertar_persona",{nombre:m.value,fechaNacimiento:f.value}])});p.addEventListener("click",()=>{i.postMessage(["obtener_personas"])});b.onclick=()=>{i.postMessage(["iniciar"])};i.onmessage=r=>{const o=r.data[0],n=r.data[1];switch(o){case"iniciado":[m,f,u,p].forEach(e=>e.disabled=!1);break;case"persona_insertada":console.log({argumentos:n});break;case"personas_obtenidas":const s=n;d.innerHTML="";for(const e of s)d.innerHTML+=`<strong>${e.nombre}</strong> ${e.fechaNacimiento}<br>`;break}};window.addEventListener("beforeinstallprompt",r=>{console.log("...pwa can be installed!"),r.preventDefault(),c=r,l.classList.remove("is-hidden"),l.addEventListener("click",()=>{console.log("...install app btn click"),c.prompt(),c.userChoice.then(o=>{o.outcome==="accepted"?console.log("User accepted the A2HS install app prompt"):console.log("User dismissed the A2HS install app prompt"),c=null,l.classList.add("is-hidden")})})});
