var Xn=Object.defineProperty;var Yn=(Pe,Ie,Le)=>Ie in Pe?Xn(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:Le}):Pe[Ie]=Le;var Ke=(Pe,Ie,Le)=>(Yn(Pe,typeof Ie!="symbol"?Ie+"":Ie,Le),Le);(function(){"use strict";var Pe=(()=>{var Z=self.location.href;return function(ae){var pe=ae||{},t=typeof pe<"u"?pe:{},ge,xe;t.ready=new Promise(function(n,e){ge=n,xe=e});const ye=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,ye.debugModule("globalThis.location =",globalThis.location);const Re="emscripten-bug-17951";t[Re]=function n(e,s){e.env.foo=function(){};const r=t.locateFile(n.uri,typeof we>"u"?"":we);ye.debugModule("instantiateWasm() uri =",r);const i=()=>fetch(r,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(i(),e).then(h=>s(h.instance,h.module)):async()=>i().then(h=>h.arrayBuffer()).then(h=>WebAssembly.instantiate(h,e)).then(h=>s(h.instance,h.module)))(),{}},t[Re].uri="sqlite3.wasm";var Je=Object.assign({},t),Ue="./this.program",Ce=typeof window=="object",Te=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var we="";function Ut(n){return t.locateFile?t.locateFile(n,we):we+n}var nt,ft,rt;(Ce||Te)&&(Te?we=self.location.href:typeof document<"u"&&document.currentScript&&(we=document.currentScript.src),Z&&(we=Z),we.indexOf("blob:")!==0?we=we.substr(0,we.replace(/[?#].*/,"").lastIndexOf("/")+1):we="",nt=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(null),e.responseText},Te&&(rt=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),ft=(n,e,s)=>{var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=()=>{if(r.status==200||r.status==0&&r.response){e(r.response);return}s()},r.onerror=s,r.send(null)});var $e=t.print||console.log.bind(console),Fe=t.printErr||console.warn.bind(console);Object.assign(t,Je),Je=null,t.arguments&&t.arguments,t.thisProgram&&(Ue=t.thisProgram),t.quit&&t.quit;var We;t.wasmBinary&&(We=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&Ne("no native wasm support detected");var Oe,pt=!1;function Wt(n,e){n||Ne(e)}var dt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Be(n,e,s){for(var r=e+s,i=e;n[i]&&!(i>=r);)++i;if(i-e>16&&n.buffer&&dt)return dt.decode(n.subarray(e,i));for(var l="";e<i;){var h=n[e++];if(!(h&128)){l+=String.fromCharCode(h);continue}var w=n[e++]&63;if((h&224)==192){l+=String.fromCharCode((h&31)<<6|w);continue}var A=n[e++]&63;if((h&240)==224?h=(h&15)<<12|w<<6|A:h=(h&7)<<18|w<<12|A<<6|n[e++]&63,h<65536)l+=String.fromCharCode(h);else{var C=h-65536;l+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return l}function Qt(n,e){return n?Be(Ve,n,e):""}function Xe(n,e,s,r){if(!(r>0))return 0;for(var i=s,l=s+r-1,h=0;h<n.length;++h){var w=n.charCodeAt(h);if(w>=55296&&w<=57343){var A=n.charCodeAt(++h);w=65536+((w&1023)<<10)|A&1023}if(w<=127){if(s>=l)break;e[s++]=w}else if(w<=2047){if(s+1>=l)break;e[s++]=192|w>>6,e[s++]=128|w&63}else if(w<=65535){if(s+2>=l)break;e[s++]=224|w>>12,e[s++]=128|w>>6&63,e[s++]=128|w&63}else{if(s+3>=l)break;e[s++]=240|w>>18,e[s++]=128|w>>12&63,e[s++]=128|w>>6&63,e[s++]=128|w&63}}return e[s]=0,s-i}function mt(n,e,s){return Xe(n,Ve,e,s)}function Qe(n){for(var e=0,s=0;s<n.length;++s){var r=n.charCodeAt(s);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++s):e+=3}return e}var be,Ve,gt,ee,fe;function ht(){var n=Oe.buffer;t.HEAP8=be=new Int8Array(n),t.HEAP16=gt=new Int16Array(n),t.HEAP32=ee=new Int32Array(n),t.HEAPU8=Ve=new Uint8Array(n),t.HEAPU16=new Uint16Array(n),t.HEAPU32=fe=new Uint32Array(n),t.HEAPF32=new Float32Array(n),t.HEAPF64=new Float64Array(n),t.HEAP64=new BigInt64Array(n),t.HEAPU64=new BigUint64Array(n)}var yt=t.INITIAL_MEMORY||16777216;t.wasmMemory?Oe=t.wasmMemory:Oe=new WebAssembly.Memory({initial:yt/65536,maximum:32768}),ht(),yt=Oe.buffer.byteLength;var qt=[],bt=[],wt=[];function Vt(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Kt(t.preRun.shift());it(qt)}function Ht(){!t.noFSInit&&!o.init.initialized&&o.init(),o.ignorePermissions=!1,it(bt)}function Gt(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)$t(t.postRun.shift());it(wt)}function Kt(n){qt.unshift(n)}function Jt(n){bt.unshift(n)}function $t(n){wt.unshift(n)}var Me=0,He=null;function Zn(n){return n}function st(n){Me++,t.monitorRunDependencies&&t.monitorRunDependencies(Me)}function Ye(n){if(Me--,t.monitorRunDependencies&&t.monitorRunDependencies(Me),Me==0&&He){var e=He;He=null,e()}}function Ne(n){t.onAbort&&t.onAbort(n),n="Aborted("+n+")",Fe(n),pt=!0,n+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(n);throw xe(e),e}var Xt="data:application/octet-stream;base64,";function vt(n){return n.startsWith(Xt)}var ve;t.locateFile?(ve="sqlite3.wasm",vt(ve)||(ve=Ut(ve))):ve=new URL(""+new URL("sqlite3-14470338.wasm",self.location.href).href,self.location).href;function Et(n){try{if(n==ve&&We)return new Uint8Array(We);if(rt)return rt(n);throw"both async and sync fetching of the wasm failed"}catch(e){Ne(e)}}function Yt(){return!We&&(Ce||Te)&&typeof fetch=="function"?fetch(ve,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+ve+"'";return n.arrayBuffer()}).catch(function(){return Et(ve)}):Promise.resolve().then(function(){return Et(ve)})}function Zt(){var n={env:Tt,wasi_snapshot_preview1:Tt};function e(h,w){var A=h.exports;t.asm=A,t.asm.__indirect_function_table,Jt(t.asm.__wasm_call_ctors),Ye()}st();function s(h){e(h.instance)}function r(h){return Yt().then(function(w){return WebAssembly.instantiate(w,n)}).then(function(w){return w}).then(h,function(w){Fe("failed to asynchronously prepare wasm: "+w),Ne(w)})}function i(){return!We&&typeof WebAssembly.instantiateStreaming=="function"&&!vt(ve)&&typeof fetch=="function"?fetch(ve,{credentials:"same-origin"}).then(function(h){var w=WebAssembly.instantiateStreaming(h,n);return w.then(s,function(A){return Fe("wasm streaming compile failed: "+A),Fe("falling back to ArrayBuffer instantiation"),r(s)})}):r(s)}if(t.instantiateWasm)try{var l=t.instantiateWasm(n,e);return l}catch(h){Fe("Module.instantiateWasm callback failed with error: "+h),xe(h)}return i().catch(xe),{}}var te,de;function it(n){for(;n.length>0;)n.shift()(t)}var ie={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(n).slice(1)},normalizeArray:(n,e)=>{for(var s=0,r=n.length-1;r>=0;r--){var i=n[r];i==="."?n.splice(r,1):i===".."?(n.splice(r,1),s++):s&&(n.splice(r,1),s--)}if(e)for(;s;s--)n.unshift("..");return n},normalize:n=>{var e=ie.isAbs(n),s=n.substr(-1)==="/";return n=ie.normalizeArray(n.split("/").filter(r=>!!r),!e).join("/"),!n&&!e&&(n="."),n&&s&&(n+="/"),(e?"/":"")+n},dirname:n=>{var e=ie.splitPath(n),s=e[0],r=e[1];return!s&&!r?".":(r&&(r=r.substr(0,r.length-1)),s+r)},basename:n=>{if(n==="/")return"/";n=ie.normalize(n),n=n.replace(/\/$/,"");var e=n.lastIndexOf("/");return e===-1?n:n.substr(e+1)},join:function(){var n=Array.prototype.slice.call(arguments);return ie.normalize(n.join("/"))},join2:(n,e)=>ie.normalize(n+"/"+e)};function en(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else return()=>Ne("randomDevice")}var ke={resolve:function(){for(var n="",e=!1,s=arguments.length-1;s>=-1&&!e;s--){var r=s>=0?arguments[s]:o.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";n=r+"/"+n,e=ie.isAbs(r)}return n=ie.normalizeArray(n.split("/").filter(i=>!!i),!e).join("/"),(e?"/":"")+n||"."},relative:(n,e)=>{n=ke.resolve(n).substr(1),e=ke.resolve(e).substr(1);function s(C){for(var B=0;B<C.length&&C[B]==="";B++);for(var Q=C.length-1;Q>=0&&C[Q]==="";Q--);return B>Q?[]:C.slice(B,Q-B+1)}for(var r=s(n.split("/")),i=s(e.split("/")),l=Math.min(r.length,i.length),h=l,w=0;w<l;w++)if(r[w]!==i[w]){h=w;break}for(var A=[],w=h;w<r.length;w++)A.push("..");return A=A.concat(i.slice(h)),A.join("/")}};function ot(n,e,s){var r=s>0?s:Qe(n)+1,i=new Array(r),l=Xe(n,i,0,i.length);return e&&(i.length=l),i}var je={ttys:[],init:function(){},shutdown:function(){},register:function(n,e){je.ttys[n]={input:[],output:[],ops:e},o.registerDevice(n,je.stream_ops)},stream_ops:{open:function(n){var e=je.ttys[n.node.rdev];if(!e)throw new o.ErrnoError(43);n.tty=e,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,e,s,r,i){if(!n.tty||!n.tty.ops.get_char)throw new o.ErrnoError(60);for(var l=0,h=0;h<r;h++){var w;try{w=n.tty.ops.get_char(n.tty)}catch{throw new o.ErrnoError(29)}if(w===void 0&&l===0)throw new o.ErrnoError(6);if(w==null)break;l++,e[s+h]=w}return l&&(n.node.timestamp=Date.now()),l},write:function(n,e,s,r,i){if(!n.tty||!n.tty.ops.put_char)throw new o.ErrnoError(60);try{for(var l=0;l<r;l++)n.tty.ops.put_char(n.tty,e[s+l])}catch{throw new o.ErrnoError(29)}return r&&(n.node.timestamp=Date.now()),l}},default_tty_ops:{get_char:function(n){if(!n.input.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e)return null;n.input=ot(e,!0)}return n.input.shift()},put_char:function(n,e){e===null||e===10?($e(Be(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&($e(Be(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,e){e===null||e===10?(Fe(Be(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(Fe(Be(n.output,0)),n.output=[])}}};function xt(n){Ne()}var X={ops_table:null,mount:function(n){return X.createNode(null,"/",16895,0)},createNode:function(n,e,s,r){if(o.isBlkdev(s)||o.isFIFO(s))throw new o.ErrnoError(63);X.ops_table||(X.ops_table={dir:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,lookup:X.node_ops.lookup,mknod:X.node_ops.mknod,rename:X.node_ops.rename,unlink:X.node_ops.unlink,rmdir:X.node_ops.rmdir,readdir:X.node_ops.readdir,symlink:X.node_ops.symlink},stream:{llseek:X.stream_ops.llseek}},file:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:{llseek:X.stream_ops.llseek,read:X.stream_ops.read,write:X.stream_ops.write,allocate:X.stream_ops.allocate,mmap:X.stream_ops.mmap,msync:X.stream_ops.msync}},link:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,readlink:X.node_ops.readlink},stream:{}},chrdev:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:o.chrdev_stream_ops}});var i=o.createNode(n,e,s,r);return o.isDir(i.mode)?(i.node_ops=X.ops_table.dir.node,i.stream_ops=X.ops_table.dir.stream,i.contents={}):o.isFile(i.mode)?(i.node_ops=X.ops_table.file.node,i.stream_ops=X.ops_table.file.stream,i.usedBytes=0,i.contents=null):o.isLink(i.mode)?(i.node_ops=X.ops_table.link.node,i.stream_ops=X.ops_table.link.stream):o.isChrdev(i.mode)&&(i.node_ops=X.ops_table.chrdev.node,i.stream_ops=X.ops_table.chrdev.stream),i.timestamp=Date.now(),n&&(n.contents[e]=i,n.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,e){var s=n.contents?n.contents.length:0;if(!(s>=e)){var r=1024*1024;e=Math.max(e,s*(s<r?2:1.125)>>>0),s!=0&&(e=Math.max(e,256));var i=n.contents;n.contents=new Uint8Array(e),n.usedBytes>0&&n.contents.set(i.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,e){if(n.usedBytes!=e)if(e==0)n.contents=null,n.usedBytes=0;else{var s=n.contents;n.contents=new Uint8Array(e),s&&n.contents.set(s.subarray(0,Math.min(e,n.usedBytes))),n.usedBytes=e}},node_ops:{getattr:function(n){var e={};return e.dev=o.isChrdev(n.mode)?n.id:1,e.ino=n.id,e.mode=n.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=n.rdev,o.isDir(n.mode)?e.size=4096:o.isFile(n.mode)?e.size=n.usedBytes:o.isLink(n.mode)?e.size=n.link.length:e.size=0,e.atime=new Date(n.timestamp),e.mtime=new Date(n.timestamp),e.ctime=new Date(n.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(n,e){e.mode!==void 0&&(n.mode=e.mode),e.timestamp!==void 0&&(n.timestamp=e.timestamp),e.size!==void 0&&X.resizeFileStorage(n,e.size)},lookup:function(n,e){throw o.genericErrors[44]},mknod:function(n,e,s,r){return X.createNode(n,e,s,r)},rename:function(n,e,s){if(o.isDir(n.mode)){var r;try{r=o.lookupNode(e,s)}catch{}if(r)for(var i in r.contents)throw new o.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=s,e.contents[s]=n,e.timestamp=n.parent.timestamp,n.parent=e},unlink:function(n,e){delete n.contents[e],n.timestamp=Date.now()},rmdir:function(n,e){var s=o.lookupNode(n,e);for(var r in s.contents)throw new o.ErrnoError(55);delete n.contents[e],n.timestamp=Date.now()},readdir:function(n){var e=[".",".."];for(var s in n.contents)n.contents.hasOwnProperty(s)&&e.push(s);return e},symlink:function(n,e,s){var r=X.createNode(n,e,41471,0);return r.link=s,r},readlink:function(n){if(!o.isLink(n.mode))throw new o.ErrnoError(28);return n.link}},stream_ops:{read:function(n,e,s,r,i){var l=n.node.contents;if(i>=n.node.usedBytes)return 0;var h=Math.min(n.node.usedBytes-i,r);if(h>8&&l.subarray)e.set(l.subarray(i,i+h),s);else for(var w=0;w<h;w++)e[s+w]=l[i+w];return h},write:function(n,e,s,r,i,l){if(e.buffer===be.buffer&&(l=!1),!r)return 0;var h=n.node;if(h.timestamp=Date.now(),e.subarray&&(!h.contents||h.contents.subarray)){if(l)return h.contents=e.subarray(s,s+r),h.usedBytes=r,r;if(h.usedBytes===0&&i===0)return h.contents=e.slice(s,s+r),h.usedBytes=r,r;if(i+r<=h.usedBytes)return h.contents.set(e.subarray(s,s+r),i),r}if(X.expandFileStorage(h,i+r),h.contents.subarray&&e.subarray)h.contents.set(e.subarray(s,s+r),i);else for(var w=0;w<r;w++)h.contents[i+w]=e[s+w];return h.usedBytes=Math.max(h.usedBytes,i+r),r},llseek:function(n,e,s){var r=e;if(s===1?r+=n.position:s===2&&o.isFile(n.node.mode)&&(r+=n.node.usedBytes),r<0)throw new o.ErrnoError(28);return r},allocate:function(n,e,s){X.expandFileStorage(n.node,e+s),n.node.usedBytes=Math.max(n.node.usedBytes,e+s)},mmap:function(n,e,s,r,i){if(!o.isFile(n.node.mode))throw new o.ErrnoError(43);var l,h,w=n.node.contents;if(!(i&2)&&w.buffer===be.buffer)h=!1,l=w.byteOffset;else{if((s>0||s+e<w.length)&&(w.subarray?w=w.subarray(s,s+e):w=Array.prototype.slice.call(w,s,s+e)),h=!0,l=xt(),!l)throw new o.ErrnoError(48);be.set(w,l)}return{ptr:l,allocated:h}},msync:function(n,e,s,r,i){return X.stream_ops.write(n,e,0,r,s,!1),0}}};function tn(n,e,s,r){var i=r?"":"al "+n;ft(n,l=>{Wt(l,'Loading data file "'+n+'" failed (no arrayBuffer).'),e(new Uint8Array(l)),i&&Ye()},l=>{if(s)s();else throw'Loading data file "'+n+'" failed.'}),i&&st()}var o={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,e={})=>{if(n=ke.resolve(n),!n)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(e=Object.assign(s,e),e.recurse_count>8)throw new o.ErrnoError(32);for(var r=n.split("/").filter(Q=>!!Q),i=o.root,l="/",h=0;h<r.length;h++){var w=h===r.length-1;if(w&&e.parent)break;if(i=o.lookupNode(i,r[h]),l=ie.join2(l,r[h]),o.isMountpoint(i)&&(!w||w&&e.follow_mount)&&(i=i.mounted.root),!w||e.follow)for(var A=0;o.isLink(i.mode);){var C=o.readlink(l);l=ke.resolve(ie.dirname(l),C);var B=o.lookupPath(l,{recurse_count:e.recurse_count+1});if(i=B.node,A++>40)throw new o.ErrnoError(32)}}return{path:l,node:i}},getPath:n=>{for(var e;;){if(o.isRoot(n)){var s=n.mount.mountpoint;return e?s[s.length-1]!=="/"?s+"/"+e:s+e:s}e=e?n.name+"/"+e:n.name,n=n.parent}},hashName:(n,e)=>{for(var s=0,r=0;r<e.length;r++)s=(s<<5)-s+e.charCodeAt(r)|0;return(n+s>>>0)%o.nameTable.length},hashAddNode:n=>{var e=o.hashName(n.parent.id,n.name);n.name_next=o.nameTable[e],o.nameTable[e]=n},hashRemoveNode:n=>{var e=o.hashName(n.parent.id,n.name);if(o.nameTable[e]===n)o.nameTable[e]=n.name_next;else for(var s=o.nameTable[e];s;){if(s.name_next===n){s.name_next=n.name_next;break}s=s.name_next}},lookupNode:(n,e)=>{var s=o.mayLookup(n);if(s)throw new o.ErrnoError(s,n);for(var r=o.hashName(n.id,e),i=o.nameTable[r];i;i=i.name_next){var l=i.name;if(i.parent.id===n.id&&l===e)return i}return o.lookup(n,e)},createNode:(n,e,s,r)=>{var i=new o.FSNode(n,e,s,r);return o.hashAddNode(i),i},destroyNode:n=>{o.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var e=o.flagModes[n];if(typeof e>"u")throw new Error("Unknown file open mode: "+n);return e},flagsToPermissionString:n=>{var e=["r","w","rw"][n&3];return n&512&&(e+="w"),e},nodePermissions:(n,e)=>o.ignorePermissions?0:e.includes("r")&&!(n.mode&292)||e.includes("w")&&!(n.mode&146)||e.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var e=o.nodePermissions(n,"x");return e||(n.node_ops.lookup?0:2)},mayCreate:(n,e)=>{try{var s=o.lookupNode(n,e);return 20}catch{}return o.nodePermissions(n,"wx")},mayDelete:(n,e,s)=>{var r;try{r=o.lookupNode(n,e)}catch(l){return l.errno}var i=o.nodePermissions(n,"wx");if(i)return i;if(s){if(!o.isDir(r.mode))return 54;if(o.isRoot(r)||o.getPath(r)===o.cwd())return 10}else if(o.isDir(r.mode))return 31;return 0},mayOpen:(n,e)=>n?o.isLink(n.mode)?32:o.isDir(n.mode)&&(o.flagsToPermissionString(e)!=="r"||e&512)?31:o.nodePermissions(n,o.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,e=o.MAX_OPEN_FDS)=>{for(var s=n;s<=e;s++)if(!o.streams[s])return s;throw new o.ErrnoError(33)},getStream:n=>o.streams[n],createStream:(n,e,s)=>{o.FSStream||(o.FSStream=function(){this.shared={}},o.FSStream.prototype={},Object.defineProperties(o.FSStream.prototype,{object:{get:function(){return this.node},set:function(i){this.node=i}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(i){this.shared.flags=i}},position:{get:function(){return this.shared.position},set:function(i){this.shared.position=i}}})),n=Object.assign(new o.FSStream,n);var r=o.nextfd(e,s);return n.fd=r,o.streams[r]=n,n},closeStream:n=>{o.streams[n]=null},chrdev_stream_ops:{open:n=>{var e=o.getDevice(n.node.rdev);n.stream_ops=e.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new o.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,e)=>n<<8|e,registerDevice:(n,e)=>{o.devices[n]={stream_ops:e}},getDevice:n=>o.devices[n],getMounts:n=>{for(var e=[],s=[n];s.length;){var r=s.pop();e.push(r),s.push.apply(s,r.mounts)}return e},syncfs:(n,e)=>{typeof n=="function"&&(e=n,n=!1),o.syncFSRequests++,o.syncFSRequests>1&&Fe("warning: "+o.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var s=o.getMounts(o.root.mount),r=0;function i(h){return o.syncFSRequests--,e(h)}function l(h){if(h)return l.errored?void 0:(l.errored=!0,i(h));++r>=s.length&&i(null)}s.forEach(h=>{if(!h.type.syncfs)return l(null);h.type.syncfs(h,n,l)})},mount:(n,e,s)=>{var r=s==="/",i=!s,l;if(r&&o.root)throw new o.ErrnoError(10);if(!r&&!i){var h=o.lookupPath(s,{follow_mount:!1});if(s=h.path,l=h.node,o.isMountpoint(l))throw new o.ErrnoError(10);if(!o.isDir(l.mode))throw new o.ErrnoError(54)}var w={type:n,opts:e,mountpoint:s,mounts:[]},A=n.mount(w);return A.mount=w,w.root=A,r?o.root=A:l&&(l.mounted=w,l.mount&&l.mount.mounts.push(w)),A},unmount:n=>{var e=o.lookupPath(n,{follow_mount:!1});if(!o.isMountpoint(e.node))throw new o.ErrnoError(28);var s=e.node,r=s.mounted,i=o.getMounts(r);Object.keys(o.nameTable).forEach(h=>{for(var w=o.nameTable[h];w;){var A=w.name_next;i.includes(w.mount)&&o.destroyNode(w),w=A}}),s.mounted=null;var l=s.mount.mounts.indexOf(r);s.mount.mounts.splice(l,1)},lookup:(n,e)=>n.node_ops.lookup(n,e),mknod:(n,e,s)=>{var r=o.lookupPath(n,{parent:!0}),i=r.node,l=ie.basename(n);if(!l||l==="."||l==="..")throw new o.ErrnoError(28);var h=o.mayCreate(i,l);if(h)throw new o.ErrnoError(h);if(!i.node_ops.mknod)throw new o.ErrnoError(63);return i.node_ops.mknod(i,l,e,s)},create:(n,e)=>(e=e!==void 0?e:438,e&=4095,e|=32768,o.mknod(n,e,0)),mkdir:(n,e)=>(e=e!==void 0?e:511,e&=1023,e|=16384,o.mknod(n,e,0)),mkdirTree:(n,e)=>{for(var s=n.split("/"),r="",i=0;i<s.length;++i)if(s[i]){r+="/"+s[i];try{o.mkdir(r,e)}catch(l){if(l.errno!=20)throw l}}},mkdev:(n,e,s)=>(typeof s>"u"&&(s=e,e=438),e|=8192,o.mknod(n,e,s)),symlink:(n,e)=>{if(!ke.resolve(n))throw new o.ErrnoError(44);var s=o.lookupPath(e,{parent:!0}),r=s.node;if(!r)throw new o.ErrnoError(44);var i=ie.basename(e),l=o.mayCreate(r,i);if(l)throw new o.ErrnoError(l);if(!r.node_ops.symlink)throw new o.ErrnoError(63);return r.node_ops.symlink(r,i,n)},rename:(n,e)=>{var s=ie.dirname(n),r=ie.dirname(e),i=ie.basename(n),l=ie.basename(e),h,w,A;if(h=o.lookupPath(n,{parent:!0}),w=h.node,h=o.lookupPath(e,{parent:!0}),A=h.node,!w||!A)throw new o.ErrnoError(44);if(w.mount!==A.mount)throw new o.ErrnoError(75);var C=o.lookupNode(w,i),B=ke.relative(n,r);if(B.charAt(0)!==".")throw new o.ErrnoError(28);if(B=ke.relative(e,s),B.charAt(0)!==".")throw new o.ErrnoError(55);var Q;try{Q=o.lookupNode(A,l)}catch{}if(C!==Q){var v=o.isDir(C.mode),_=o.mayDelete(w,i,v);if(_)throw new o.ErrnoError(_);if(_=Q?o.mayDelete(A,l,v):o.mayCreate(A,l),_)throw new o.ErrnoError(_);if(!w.node_ops.rename)throw new o.ErrnoError(63);if(o.isMountpoint(C)||Q&&o.isMountpoint(Q))throw new o.ErrnoError(10);if(A!==w&&(_=o.nodePermissions(w,"w"),_))throw new o.ErrnoError(_);o.hashRemoveNode(C);try{w.node_ops.rename(C,A,l)}catch(f){throw f}finally{o.hashAddNode(C)}}},rmdir:n=>{var e=o.lookupPath(n,{parent:!0}),s=e.node,r=ie.basename(n),i=o.lookupNode(s,r),l=o.mayDelete(s,r,!0);if(l)throw new o.ErrnoError(l);if(!s.node_ops.rmdir)throw new o.ErrnoError(63);if(o.isMountpoint(i))throw new o.ErrnoError(10);s.node_ops.rmdir(s,r),o.destroyNode(i)},readdir:n=>{var e=o.lookupPath(n,{follow:!0}),s=e.node;if(!s.node_ops.readdir)throw new o.ErrnoError(54);return s.node_ops.readdir(s)},unlink:n=>{var e=o.lookupPath(n,{parent:!0}),s=e.node;if(!s)throw new o.ErrnoError(44);var r=ie.basename(n),i=o.lookupNode(s,r),l=o.mayDelete(s,r,!1);if(l)throw new o.ErrnoError(l);if(!s.node_ops.unlink)throw new o.ErrnoError(63);if(o.isMountpoint(i))throw new o.ErrnoError(10);s.node_ops.unlink(s,r),o.destroyNode(i)},readlink:n=>{var e=o.lookupPath(n),s=e.node;if(!s)throw new o.ErrnoError(44);if(!s.node_ops.readlink)throw new o.ErrnoError(28);return ke.resolve(o.getPath(s.parent),s.node_ops.readlink(s))},stat:(n,e)=>{var s=o.lookupPath(n,{follow:!e}),r=s.node;if(!r)throw new o.ErrnoError(44);if(!r.node_ops.getattr)throw new o.ErrnoError(63);return r.node_ops.getattr(r)},lstat:n=>o.stat(n,!0),chmod:(n,e,s)=>{var r;if(typeof n=="string"){var i=o.lookupPath(n,{follow:!s});r=i.node}else r=n;if(!r.node_ops.setattr)throw new o.ErrnoError(63);r.node_ops.setattr(r,{mode:e&4095|r.mode&-4096,timestamp:Date.now()})},lchmod:(n,e)=>{o.chmod(n,e,!0)},fchmod:(n,e)=>{var s=o.getStream(n);if(!s)throw new o.ErrnoError(8);o.chmod(s.node,e)},chown:(n,e,s,r)=>{var i;if(typeof n=="string"){var l=o.lookupPath(n,{follow:!r});i=l.node}else i=n;if(!i.node_ops.setattr)throw new o.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(n,e,s)=>{o.chown(n,e,s,!0)},fchown:(n,e,s)=>{var r=o.getStream(n);if(!r)throw new o.ErrnoError(8);o.chown(r.node,e,s)},truncate:(n,e)=>{if(e<0)throw new o.ErrnoError(28);var s;if(typeof n=="string"){var r=o.lookupPath(n,{follow:!0});s=r.node}else s=n;if(!s.node_ops.setattr)throw new o.ErrnoError(63);if(o.isDir(s.mode))throw new o.ErrnoError(31);if(!o.isFile(s.mode))throw new o.ErrnoError(28);var i=o.nodePermissions(s,"w");if(i)throw new o.ErrnoError(i);s.node_ops.setattr(s,{size:e,timestamp:Date.now()})},ftruncate:(n,e)=>{var s=o.getStream(n);if(!s)throw new o.ErrnoError(8);if(!(s.flags&2097155))throw new o.ErrnoError(28);o.truncate(s.node,e)},utime:(n,e,s)=>{var r=o.lookupPath(n,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(e,s)})},open:(n,e,s)=>{if(n==="")throw new o.ErrnoError(44);e=typeof e=="string"?o.modeStringToFlags(e):e,s=typeof s>"u"?438:s,e&64?s=s&4095|32768:s=0;var r;if(typeof n=="object")r=n;else{n=ie.normalize(n);try{var i=o.lookupPath(n,{follow:!(e&131072)});r=i.node}catch{}}var l=!1;if(e&64)if(r){if(e&128)throw new o.ErrnoError(20)}else r=o.mknod(n,s,0),l=!0;if(!r)throw new o.ErrnoError(44);if(o.isChrdev(r.mode)&&(e&=-513),e&65536&&!o.isDir(r.mode))throw new o.ErrnoError(54);if(!l){var h=o.mayOpen(r,e);if(h)throw new o.ErrnoError(h)}e&512&&!l&&o.truncate(r,0),e&=-131713;var w=o.createStream({node:r,path:o.getPath(r),flags:e,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return w.stream_ops.open&&w.stream_ops.open(w),t.logReadFiles&&!(e&1)&&(o.readFiles||(o.readFiles={}),n in o.readFiles||(o.readFiles[n]=1)),w},close:n=>{if(o.isClosed(n))throw new o.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(e){throw e}finally{o.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,e,s)=>{if(o.isClosed(n))throw new o.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new o.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new o.ErrnoError(28);return n.position=n.stream_ops.llseek(n,e,s),n.ungotten=[],n.position},read:(n,e,s,r,i)=>{if(r<0||i<0)throw new o.ErrnoError(28);if(o.isClosed(n))throw new o.ErrnoError(8);if((n.flags&2097155)===1)throw new o.ErrnoError(8);if(o.isDir(n.node.mode))throw new o.ErrnoError(31);if(!n.stream_ops.read)throw new o.ErrnoError(28);var l=typeof i<"u";if(!l)i=n.position;else if(!n.seekable)throw new o.ErrnoError(70);var h=n.stream_ops.read(n,e,s,r,i);return l||(n.position+=h),h},write:(n,e,s,r,i,l)=>{if(r<0||i<0)throw new o.ErrnoError(28);if(o.isClosed(n))throw new o.ErrnoError(8);if(!(n.flags&2097155))throw new o.ErrnoError(8);if(o.isDir(n.node.mode))throw new o.ErrnoError(31);if(!n.stream_ops.write)throw new o.ErrnoError(28);n.seekable&&n.flags&1024&&o.llseek(n,0,2);var h=typeof i<"u";if(!h)i=n.position;else if(!n.seekable)throw new o.ErrnoError(70);var w=n.stream_ops.write(n,e,s,r,i,l);return h||(n.position+=w),w},allocate:(n,e,s)=>{if(o.isClosed(n))throw new o.ErrnoError(8);if(e<0||s<=0)throw new o.ErrnoError(28);if(!(n.flags&2097155))throw new o.ErrnoError(8);if(!o.isFile(n.node.mode)&&!o.isDir(n.node.mode))throw new o.ErrnoError(43);if(!n.stream_ops.allocate)throw new o.ErrnoError(138);n.stream_ops.allocate(n,e,s)},mmap:(n,e,s,r,i)=>{if(r&2&&!(i&2)&&(n.flags&2097155)!==2)throw new o.ErrnoError(2);if((n.flags&2097155)===1)throw new o.ErrnoError(2);if(!n.stream_ops.mmap)throw new o.ErrnoError(43);return n.stream_ops.mmap(n,e,s,r,i)},msync:(n,e,s,r,i)=>n.stream_ops.msync?n.stream_ops.msync(n,e,s,r,i):0,munmap:n=>0,ioctl:(n,e,s)=>{if(!n.stream_ops.ioctl)throw new o.ErrnoError(59);return n.stream_ops.ioctl(n,e,s)},readFile:(n,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var s,r=o.open(n,e.flags),i=o.stat(n),l=i.size,h=new Uint8Array(l);return o.read(r,h,0,l,0),e.encoding==="utf8"?s=Be(h,0):e.encoding==="binary"&&(s=h),o.close(r),s},writeFile:(n,e,s={})=>{s.flags=s.flags||577;var r=o.open(n,s.flags,s.mode);if(typeof e=="string"){var i=new Uint8Array(Qe(e)+1),l=Xe(e,i,0,i.length);o.write(r,i,0,l,void 0,s.canOwn)}else if(ArrayBuffer.isView(e))o.write(r,e,0,e.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");o.close(r)},cwd:()=>o.currentPath,chdir:n=>{var e=o.lookupPath(n,{follow:!0});if(e.node===null)throw new o.ErrnoError(44);if(!o.isDir(e.node.mode))throw new o.ErrnoError(54);var s=o.nodePermissions(e.node,"x");if(s)throw new o.ErrnoError(s);o.currentPath=e.path},createDefaultDirectories:()=>{o.mkdir("/tmp"),o.mkdir("/home"),o.mkdir("/home/web_user")},createDefaultDevices:()=>{o.mkdir("/dev"),o.registerDevice(o.makedev(1,3),{read:()=>0,write:(e,s,r,i,l)=>i}),o.mkdev("/dev/null",o.makedev(1,3)),je.register(o.makedev(5,0),je.default_tty_ops),je.register(o.makedev(6,0),je.default_tty1_ops),o.mkdev("/dev/tty",o.makedev(5,0)),o.mkdev("/dev/tty1",o.makedev(6,0));var n=en();o.createDevice("/dev","random",n),o.createDevice("/dev","urandom",n),o.mkdir("/dev/shm"),o.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{o.mkdir("/proc");var n=o.mkdir("/proc/self");o.mkdir("/proc/self/fd"),o.mount({mount:()=>{var e=o.createNode(n,"fd",16895,73);return e.node_ops={lookup:(s,r)=>{var i=+r,l=o.getStream(i);if(!l)throw new o.ErrnoError(8);var h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>l.path}};return h.parent=h,h}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?o.createDevice("/dev","stdin",t.stdin):o.symlink("/dev/tty","/dev/stdin"),t.stdout?o.createDevice("/dev","stdout",null,t.stdout):o.symlink("/dev/tty","/dev/stdout"),t.stderr?o.createDevice("/dev","stderr",null,t.stderr):o.symlink("/dev/tty1","/dev/stderr"),o.open("/dev/stdin",0),o.open("/dev/stdout",1),o.open("/dev/stderr",1)},ensureErrnoError:()=>{o.ErrnoError||(o.ErrnoError=function(e,s){this.node=s,this.setErrno=function(r){this.errno=r},this.setErrno(e),this.message="FS error"},o.ErrnoError.prototype=new Error,o.ErrnoError.prototype.constructor=o.ErrnoError,[44].forEach(n=>{o.genericErrors[n]=new o.ErrnoError(n),o.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{o.ensureErrnoError(),o.nameTable=new Array(4096),o.mount(X,{},"/"),o.createDefaultDirectories(),o.createDefaultDevices(),o.createSpecialDirectories(),o.filesystems={MEMFS:X}},init:(n,e,s)=>{o.init.initialized=!0,o.ensureErrnoError(),t.stdin=n||t.stdin,t.stdout=e||t.stdout,t.stderr=s||t.stderr,o.createStandardStreams()},quit:()=>{o.init.initialized=!1;for(var n=0;n<o.streams.length;n++){var e=o.streams[n];e&&o.close(e)}},getMode:(n,e)=>{var s=0;return n&&(s|=365),e&&(s|=146),s},findObject:(n,e)=>{var s=o.analyzePath(n,e);return s.exists?s.object:null},analyzePath:(n,e)=>{try{var s=o.lookupPath(n,{follow:!e});n=s.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=o.lookupPath(n,{parent:!0});r.parentExists=!0,r.parentPath=s.path,r.parentObject=s.node,r.name=ie.basename(n),s=o.lookupPath(n,{follow:!e}),r.exists=!0,r.path=s.path,r.object=s.node,r.name=s.node.name,r.isRoot=s.path==="/"}catch(i){r.error=i.errno}return r},createPath:(n,e,s,r)=>{n=typeof n=="string"?n:o.getPath(n);for(var i=e.split("/").reverse();i.length;){var l=i.pop();if(l){var h=ie.join2(n,l);try{o.mkdir(h)}catch{}n=h}}return h},createFile:(n,e,s,r,i)=>{var l=ie.join2(typeof n=="string"?n:o.getPath(n),e),h=o.getMode(r,i);return o.create(l,h)},createDataFile:(n,e,s,r,i,l)=>{var h=e;n&&(n=typeof n=="string"?n:o.getPath(n),h=e?ie.join2(n,e):n);var w=o.getMode(r,i),A=o.create(h,w);if(s){if(typeof s=="string"){for(var C=new Array(s.length),B=0,Q=s.length;B<Q;++B)C[B]=s.charCodeAt(B);s=C}o.chmod(A,w|146);var v=o.open(A,577);o.write(v,s,0,s.length,0,l),o.close(v),o.chmod(A,w)}return A},createDevice:(n,e,s,r)=>{var i=ie.join2(typeof n=="string"?n:o.getPath(n),e),l=o.getMode(!!s,!!r);o.createDevice.major||(o.createDevice.major=64);var h=o.makedev(o.createDevice.major++,0);return o.registerDevice(h,{open:w=>{w.seekable=!1},close:w=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(w,A,C,B,Q)=>{for(var v=0,_=0;_<B;_++){var f;try{f=s()}catch{throw new o.ErrnoError(29)}if(f===void 0&&v===0)throw new o.ErrnoError(6);if(f==null)break;v++,A[C+_]=f}return v&&(w.node.timestamp=Date.now()),v},write:(w,A,C,B,Q)=>{for(var v=0;v<B;v++)try{r(A[C+v])}catch{throw new o.ErrnoError(29)}return B&&(w.node.timestamp=Date.now()),v}}),o.mkdev(i,l,h)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(nt)try{n.contents=ot(nt(n.url),!0),n.usedBytes=n.contents.length}catch{throw new o.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,e,s,r,i)=>{function l(){this.lengthKnown=!1,this.chunks=[]}if(l.prototype.get=function(_){if(!(_>this.length-1||_<0)){var f=_%this.chunkSize,q=_/this.chunkSize|0;return this.getter(q)[f]}},l.prototype.setDataGetter=function(_){this.getter=_},l.prototype.cacheLength=function(){var _=new XMLHttpRequest;if(_.open("HEAD",s,!1),_.send(null),!(_.status>=200&&_.status<300||_.status===304))throw new Error("Couldn't load "+s+". Status: "+_.status);var f=Number(_.getResponseHeader("Content-length")),q,b=(q=_.getResponseHeader("Accept-Ranges"))&&q==="bytes",g=(q=_.getResponseHeader("Content-Encoding"))&&q==="gzip",k=1024*1024;b||(k=f);var P=(F,G)=>{if(F>G)throw new Error("invalid range ("+F+", "+G+") or no bytes requested!");if(G>f-1)throw new Error("only "+f+" bytes available! programmer error!");var R=new XMLHttpRequest;if(R.open("GET",s,!1),f!==k&&R.setRequestHeader("Range","bytes="+F+"-"+G),R.responseType="arraybuffer",R.overrideMimeType&&R.overrideMimeType("text/plain; charset=x-user-defined"),R.send(null),!(R.status>=200&&R.status<300||R.status===304))throw new Error("Couldn't load "+s+". Status: "+R.status);return R.response!==void 0?new Uint8Array(R.response||[]):ot(R.responseText||"",!0)},O=this;O.setDataGetter(F=>{var G=F*k,R=(F+1)*k-1;if(R=Math.min(R,f-1),typeof O.chunks[F]>"u"&&(O.chunks[F]=P(G,R)),typeof O.chunks[F]>"u")throw new Error("doXHR failed!");return O.chunks[F]}),(g||!f)&&(k=f=1,f=this.getter(0).length,k=f,$e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=f,this._chunkSize=k,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Te)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h=new l;Object.defineProperties(h,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var w={isDevice:!1,contents:h}}else var w={isDevice:!1,url:s};var A=o.createFile(n,e,w,r,i);w.contents?A.contents=w.contents:w.url&&(A.contents=null,A.url=w.url),Object.defineProperties(A,{usedBytes:{get:function(){return this.contents.length}}});var C={},B=Object.keys(A.stream_ops);B.forEach(v=>{var _=A.stream_ops[v];C[v]=function(){return o.forceLoadFile(A),_.apply(null,arguments)}});function Q(v,_,f,q,b){var g=v.node.contents;if(b>=g.length)return 0;var k=Math.min(g.length-b,q);if(g.slice)for(var P=0;P<k;P++)_[f+P]=g[b+P];else for(var P=0;P<k;P++)_[f+P]=g.get(b+P);return k}return C.read=(v,_,f,q,b)=>(o.forceLoadFile(A),Q(v,_,f,q,b)),C.mmap=(v,_,f,q,b)=>{o.forceLoadFile(A);var g=xt();if(!g)throw new o.ErrnoError(48);return Q(v,be,g,_,f),{ptr:g,allocated:!0}},A.stream_ops=C,A},createPreloadedFile:(n,e,s,r,i,l,h,w,A,C)=>{var B=e?ke.resolve(ie.join2(n,e)):n;function Q(v){function _(f){C&&C(),w||o.createDataFile(n,e,f,r,i,A),l&&l(),Ye()}Browser.handledByPreloadPlugin(v,B,_,()=>{h&&h(),Ye()})||_(v)}st(),typeof s=="string"?tn(s,v=>Q(v),h):Q(s)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,e,s)=>{e=e||(()=>{}),s=s||(()=>{});var r=o.indexedDB();try{var i=r.open(o.DB_NAME(),o.DB_VERSION)}catch(l){return s(l)}i.onupgradeneeded=()=>{$e("creating db");var l=i.result;l.createObjectStore(o.DB_STORE_NAME)},i.onsuccess=()=>{var l=i.result,h=l.transaction([o.DB_STORE_NAME],"readwrite"),w=h.objectStore(o.DB_STORE_NAME),A=0,C=0,B=n.length;function Q(){C==0?e():s()}n.forEach(v=>{var _=w.put(o.analyzePath(v).object.contents,v);_.onsuccess=()=>{A++,A+C==B&&Q()},_.onerror=()=>{C++,A+C==B&&Q()}}),h.onerror=s},i.onerror=s},loadFilesFromDB:(n,e,s)=>{e=e||(()=>{}),s=s||(()=>{});var r=o.indexedDB();try{var i=r.open(o.DB_NAME(),o.DB_VERSION)}catch(l){return s(l)}i.onupgradeneeded=s,i.onsuccess=()=>{var l=i.result;try{var h=l.transaction([o.DB_STORE_NAME],"readonly")}catch(v){s(v);return}var w=h.objectStore(o.DB_STORE_NAME),A=0,C=0,B=n.length;function Q(){C==0?e():s()}n.forEach(v=>{var _=w.get(v);_.onsuccess=()=>{o.analyzePath(v).exists&&o.unlink(v),o.createDataFile(ie.dirname(v),ie.basename(v),_.result,!0,!0,!0),A++,A+C==B&&Q()},_.onerror=()=>{C++,A+C==B&&Q()}}),h.onerror=s},i.onerror=s}},$={DEFAULT_POLLMASK:5,calculateAt:function(n,e,s){if(ie.isAbs(e))return e;var r;if(n===-100)r=o.cwd();else{var i=$.getStreamFromFD(n);r=i.path}if(e.length==0){if(!s)throw new o.ErrnoError(44);return r}return ie.join2(r,e)},doStat:function(n,e,s){try{var r=n(e)}catch(w){if(w&&w.node&&ie.normalize(e)!==ie.normalize(o.getPath(w.node)))return-54;throw w}ee[s>>2]=r.dev,ee[s+8>>2]=r.ino,ee[s+12>>2]=r.mode,fe[s+16>>2]=r.nlink,ee[s+20>>2]=r.uid,ee[s+24>>2]=r.gid,ee[s+28>>2]=r.rdev,de=[r.size>>>0,(te=r.size,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[s+40>>2]=de[0],ee[s+44>>2]=de[1],ee[s+48>>2]=4096,ee[s+52>>2]=r.blocks;var i=r.atime.getTime(),l=r.mtime.getTime(),h=r.ctime.getTime();return de=[Math.floor(i/1e3)>>>0,(te=Math.floor(i/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[s+56>>2]=de[0],ee[s+60>>2]=de[1],fe[s+64>>2]=i%1e3*1e3,de=[Math.floor(l/1e3)>>>0,(te=Math.floor(l/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[s+72>>2]=de[0],ee[s+76>>2]=de[1],fe[s+80>>2]=l%1e3*1e3,de=[Math.floor(h/1e3)>>>0,(te=Math.floor(h/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[s+88>>2]=de[0],ee[s+92>>2]=de[1],fe[s+96>>2]=h%1e3*1e3,de=[r.ino>>>0,(te=r.ino,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[s+104>>2]=de[0],ee[s+108>>2]=de[1],0},doMsync:function(n,e,s,r,i){if(!o.isFile(e.node.mode))throw new o.ErrnoError(43);if(r&2)return 0;var l=Ve.slice(n,n+s);o.msync(e,l,i,s,r)},varargs:void 0,get:function(){$.varargs+=4;var n=ee[$.varargs-4>>2];return n},getStr:function(n){var e=Qt(n);return e},getStreamFromFD:function(n){var e=o.getStream(n);if(!e)throw new o.ErrnoError(8);return e}};function nn(n,e){try{return n=$.getStr(n),o.chmod(n,e),0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function rn(n,e,s,r){try{if(e=$.getStr(e),e=$.calculateAt(n,e),s&-8)return-28;var i=o.lookupPath(e,{follow:!0}),l=i.node;if(!l)return-44;var h="";return s&4&&(h+="r"),s&2&&(h+="w"),s&1&&(h+="x"),h&&o.nodePermissions(l,h)?-2:0}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function sn(n,e){try{return o.fchmod(n,e),0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function on(n,e,s){try{return o.fchown(n,e,s),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function ln(n){return ee[Ft()>>2]=n,n}function an(n,e,s){$.varargs=s;try{var r=$.getStreamFromFD(n);switch(e){case 0:{var i=$.get();if(i<0)return-28;var l;return l=o.createStream(r,i),l.fd}case 1:case 2:return 0;case 3:return r.flags;case 4:{var i=$.get();return r.flags|=i,0}case 5:{var i=$.get(),h=0;return gt[i+h>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ln(28),-1;default:return-28}}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function cn(n,e){try{var s=$.getStreamFromFD(n);return $.doStat(o.stat,s.path,e)}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}var un=9007199254740992,_n=-9007199254740992;function St(n){return n<_n||n>un?NaN:Number(n)}function fn(n,e){try{return e=St(e),isNaN(e)?-61:(o.ftruncate(n,e),0)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function pn(n,e){try{if(e===0)return-28;var s=o.cwd(),r=Qe(s)+1;return e<r?-68:(mt(s,n,e),r)}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function dn(n,e,s){$.varargs=s;try{var r=$.getStreamFromFD(n);switch(e){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:{if(!r.tty)return-59;var i=$.get();return ee[i>>2]=0,0}case 21520:return r.tty?-28:-59;case 21531:{var i=$.get();return o.ioctl(r,e,i)}case 21523:return r.tty?0:-59;case 21524:return r.tty?0:-59;default:return-28}}catch(l){if(typeof o>"u"||!(l instanceof o.ErrnoError))throw l;return-l.errno}}function mn(n,e){try{return n=$.getStr(n),$.doStat(o.lstat,n,e)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function gn(n,e,s){try{return e=$.getStr(e),e=$.calculateAt(n,e),e=ie.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),o.mkdir(e,s,0),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function hn(n,e,s,r){try{e=$.getStr(e);var i=r&256,l=r&4096;return r=r&-6401,e=$.calculateAt(n,e,l),$.doStat(i?o.lstat:o.stat,e,s)}catch(h){if(typeof o>"u"||!(h instanceof o.ErrnoError))throw h;return-h.errno}}function yn(n,e,s,r){$.varargs=r;try{e=$.getStr(e),e=$.calculateAt(n,e);var i=r?$.get():0;return o.open(e,s,i).fd}catch(l){if(typeof o>"u"||!(l instanceof o.ErrnoError))throw l;return-l.errno}}function qn(n,e,s,r){try{if(e=$.getStr(e),e=$.calculateAt(n,e),r<=0)return-28;var i=o.readlink(e),l=Math.min(r,Qe(i)),h=be[s+l];return mt(i,s,r+1),be[s+l]=h,l}catch(w){if(typeof o>"u"||!(w instanceof o.ErrnoError))throw w;return-w.errno}}function bn(n){try{return n=$.getStr(n),o.rmdir(n),0}catch(e){if(typeof o>"u"||!(e instanceof o.ErrnoError))throw e;return-e.errno}}function wn(n,e){try{return n=$.getStr(n),$.doStat(o.stat,n,e)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function vn(n,e,s){try{return e=$.getStr(e),e=$.calculateAt(n,e),s===0?o.unlink(e):s===512?o.rmdir(e):Ne("Invalid flags passed to unlinkat"),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function lt(n){return fe[n>>2]+ee[n+4>>2]*4294967296}function En(n,e,s,r){try{if(e=$.getStr(e),e=$.calculateAt(n,e,!0),s){var h=lt(s),w=ee[s+8>>2];i=h*1e3+w/1e6,s+=16,h=lt(s),w=ee[s+8>>2],l=h*1e3+w/1e6}else var i=Date.now(),l=i;return o.utime(e,i,l),0}catch(A){if(typeof o>"u"||!(A instanceof o.ErrnoError))throw A;return-A.errno}}var xn=!0;function Sn(){return xn}function An(n){return n%4===0&&(n%100!==0||n%400===0)}var In=[0,31,60,91,121,152,182,213,244,274,305,335],kn=[0,31,59,90,120,151,181,212,243,273,304,334];function Tn(n){var e=An(n.getFullYear()),s=e?In:kn,r=s[n.getMonth()]+n.getDate()-1;return r}function Fn(n,e){var s=new Date(lt(n)*1e3);ee[e>>2]=s.getSeconds(),ee[e+4>>2]=s.getMinutes(),ee[e+8>>2]=s.getHours(),ee[e+12>>2]=s.getDate(),ee[e+16>>2]=s.getMonth(),ee[e+20>>2]=s.getFullYear()-1900,ee[e+24>>2]=s.getDay();var r=Tn(s)|0;ee[e+28>>2]=r,ee[e+36>>2]=-(s.getTimezoneOffset()*60);var i=new Date(s.getFullYear(),0,1),l=new Date(s.getFullYear(),6,1).getTimezoneOffset(),h=i.getTimezoneOffset(),w=(l!=h&&s.getTimezoneOffset()==Math.min(h,l))|0;ee[e+32>>2]=w}function At(n){var e=Qe(n)+1,s=Ot(e);return s&&Xe(n,be,s,e),s}function On(n,e,s){var r=new Date().getFullYear(),i=new Date(r,0,1),l=new Date(r,6,1),h=i.getTimezoneOffset(),w=l.getTimezoneOffset(),A=Math.max(h,w);fe[n>>2]=A*60,ee[e>>2]=+(h!=w);function C(f){var q=f.toTimeString().match(/\(([A-Za-z ]+)\)$/);return q?q[1]:"GMT"}var B=C(i),Q=C(l),v=At(B),_=At(Q);w<h?(fe[s>>2]=v,fe[s+4>>2]=_):(fe[s>>2]=_,fe[s+4>>2]=v)}function Pn(){return Date.now()}var It;It=()=>performance.now();function Ln(){return 2147483648}function Dn(n){var e=Oe.buffer;try{return Oe.grow(n-e.byteLength+65535>>>16),ht(),1}catch{}}function Rn(n){var e=Ve.length;n=n>>>0;var s=Ln();if(n>s)return!1;let r=(A,C)=>A+(C-A%C)%C;for(var i=1;i<=4;i*=2){var l=e*(1+.2/i);l=Math.min(l,n+100663296);var h=Math.min(s,r(Math.max(n,l),65536)),w=Dn(h);if(w)return!0}return!1}var at={};function Cn(){return Ue||"./this.program"}function Ge(){if(!Ge.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Cn()};for(var s in at)at[s]===void 0?delete e[s]:e[s]=at[s];var r=[];for(var s in e)r.push(s+"="+e[s]);Ge.strings=r}return Ge.strings}function Mn(n,e,s){for(var r=0;r<n.length;++r)be[e++>>0]=n.charCodeAt(r);s||(be[e>>0]=0)}function Nn(n,e){var s=0;return Ge().forEach(function(r,i){var l=e+s;fe[n+i*4>>2]=l,Mn(r,l),s+=r.length+1}),0}function jn(n,e){var s=Ge();fe[n>>2]=s.length;var r=0;return s.forEach(function(i){r+=i.length+1}),fe[e>>2]=r,0}function Bn(n){try{var e=$.getStreamFromFD(n);return o.close(e),0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return s.errno}}function zn(n,e){try{var s=$.getStreamFromFD(n),r=s.tty?2:o.isDir(s.mode)?3:o.isLink(s.mode)?7:4;return be[e>>0]=r,0}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return i.errno}}function Un(n,e,s,r){for(var i=0,l=0;l<s;l++){var h=fe[e>>2],w=fe[e+4>>2];e+=8;var A=o.read(n,be,h,w,r);if(A<0)return-1;if(i+=A,A<w)break;typeof r<"u"&&(r+=A)}return i}function Wn(n,e,s,r){try{var i=$.getStreamFromFD(n),l=Un(i,e,s);return fe[r>>2]=l,0}catch(h){if(typeof o>"u"||!(h instanceof o.ErrnoError))throw h;return h.errno}}function Qn(n,e,s,r){try{if(e=St(e),isNaN(e))return 61;var i=$.getStreamFromFD(n);return o.llseek(i,e,s),de=[i.position>>>0,(te=i.position,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[r>>2]=de[0],ee[r+4>>2]=de[1],i.getdents&&e===0&&s===0&&(i.getdents=null),0}catch(l){if(typeof o>"u"||!(l instanceof o.ErrnoError))throw l;return l.errno}}function Vn(n){try{var e=$.getStreamFromFD(n);return e.stream_ops&&e.stream_ops.fsync?e.stream_ops.fsync(e):0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return s.errno}}function Hn(n,e,s,r){for(var i=0,l=0;l<s;l++){var h=fe[e>>2],w=fe[e+4>>2];e+=8;var A=o.write(n,be,h,w,r);if(A<0)return-1;i+=A,typeof r<"u"&&(r+=A)}return i}function Gn(n,e,s,r){try{var i=$.getStreamFromFD(n),l=Hn(i,e,s);return fe[r>>2]=l,0}catch(h){if(typeof o>"u"||!(h instanceof o.ErrnoError))throw h;return h.errno}}var kt=function(n,e,s,r){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=o.nextInode++,this.name=e,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=r},Ze=365,et=146;Object.defineProperties(kt.prototype,{read:{get:function(){return(this.mode&Ze)===Ze},set:function(n){n?this.mode|=Ze:this.mode&=~Ze}},write:{get:function(){return(this.mode&et)===et},set:function(n){n?this.mode|=et:this.mode&=~et}},isFolder:{get:function(){return o.isDir(this.mode)}},isDevice:{get:function(){return o.isChrdev(this.mode)}}}),o.FSNode=kt,o.staticInit();var Tt={__syscall_chmod:nn,__syscall_faccessat:rn,__syscall_fchmod:sn,__syscall_fchown32:on,__syscall_fcntl64:an,__syscall_fstat64:cn,__syscall_ftruncate64:fn,__syscall_getcwd:pn,__syscall_ioctl:dn,__syscall_lstat64:mn,__syscall_mkdirat:gn,__syscall_newfstatat:hn,__syscall_openat:yn,__syscall_readlinkat:qn,__syscall_rmdir:bn,__syscall_stat64:wn,__syscall_unlinkat:vn,__syscall_utimensat:En,_emscripten_get_now_is_monotonic:Sn,_localtime_js:Fn,_tzset_js:On,emscripten_date_now:Pn,emscripten_get_now:It,emscripten_resize_heap:Rn,environ_get:Nn,environ_sizes_get:jn,fd_close:Bn,fd_fdstat_get:zn,fd_read:Wn,fd_seek:Qn,fd_sync:Vn,fd_write:Gn,memory:Oe};Zt(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},t._sqlite3_status64=function(){return(t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},t._sqlite3_status=function(){return(t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},t._sqlite3_db_status=function(){return(t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},t._sqlite3_msize=function(){return(t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},t._sqlite3_vfs_find=function(){return(t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},t._sqlite3_initialize=function(){return(t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},t._sqlite3_malloc=function(){return(t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},t._sqlite3_free=function(){return(t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},t._sqlite3_vfs_register=function(){return(t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},t._sqlite3_vfs_unregister=function(){return(t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},t._sqlite3_malloc64=function(){return(t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},t._sqlite3_realloc=function(){return(t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},t._sqlite3_realloc64=function(){return(t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},t._sqlite3_value_text=function(){return(t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},t._sqlite3_randomness=function(){return(t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},t._sqlite3_stricmp=function(){return(t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},t._sqlite3_strnicmp=function(){return(t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},t._sqlite3_uri_parameter=function(){return(t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)};var Ft=t.___errno_location=function(){return(Ft=t.___errno_location=t.asm.__errno_location).apply(null,arguments)};t._sqlite3_uri_boolean=function(){return(t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},t._sqlite3_serialize=function(){return(t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},t._sqlite3_prepare_v2=function(){return(t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},t._sqlite3_step=function(){return(t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},t._sqlite3_column_int64=function(){return(t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},t._sqlite3_column_int=function(){return(t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},t._sqlite3_finalize=function(){return(t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},t._sqlite3_file_control=function(){return(t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},t._sqlite3_reset=function(){return(t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},t._sqlite3_deserialize=function(){return(t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},t._sqlite3_clear_bindings=function(){return(t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},t._sqlite3_value_blob=function(){return(t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},t._sqlite3_value_bytes=function(){return(t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},t._sqlite3_value_double=function(){return(t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},t._sqlite3_value_int=function(){return(t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},t._sqlite3_value_int64=function(){return(t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},t._sqlite3_value_subtype=function(){return(t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},t._sqlite3_value_pointer=function(){return(t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},t._sqlite3_value_type=function(){return(t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},t._sqlite3_value_nochange=function(){return(t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},t._sqlite3_value_frombind=function(){return(t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},t._sqlite3_value_dup=function(){return(t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},t._sqlite3_value_free=function(){return(t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},t._sqlite3_result_blob=function(){return(t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},t._sqlite3_result_error_nomem=function(){return(t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},t._sqlite3_result_error_toobig=function(){return(t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},t._sqlite3_result_double=function(){return(t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},t._sqlite3_result_error=function(){return(t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},t._sqlite3_result_int=function(){return(t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},t._sqlite3_result_int64=function(){return(t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},t._sqlite3_result_null=function(){return(t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},t._sqlite3_result_pointer=function(){return(t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},t._sqlite3_result_subtype=function(){return(t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},t._sqlite3_result_text=function(){return(t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},t._sqlite3_result_zeroblob=function(){return(t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},t._sqlite3_result_zeroblob64=function(){return(t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},t._sqlite3_result_error_code=function(){return(t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},t._sqlite3_user_data=function(){return(t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},t._sqlite3_context_db_handle=function(){return(t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},t._sqlite3_vtab_nochange=function(){return(t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},t._sqlite3_vtab_in_first=function(){return(t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},t._sqlite3_vtab_in_next=function(){return(t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},t._sqlite3_aggregate_context=function(){return(t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},t._sqlite3_get_auxdata=function(){return(t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},t._sqlite3_set_auxdata=function(){return(t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},t._sqlite3_column_count=function(){return(t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},t._sqlite3_data_count=function(){return(t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},t._sqlite3_column_blob=function(){return(t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},t._sqlite3_column_bytes=function(){return(t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},t._sqlite3_column_double=function(){return(t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},t._sqlite3_column_text=function(){return(t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},t._sqlite3_column_value=function(){return(t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},t._sqlite3_column_type=function(){return(t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},t._sqlite3_column_name=function(){return(t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},t._sqlite3_bind_blob=function(){return(t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},t._sqlite3_bind_double=function(){return(t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},t._sqlite3_bind_int=function(){return(t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},t._sqlite3_bind_int64=function(){return(t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},t._sqlite3_bind_null=function(){return(t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},t._sqlite3_bind_pointer=function(){return(t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},t._sqlite3_bind_text=function(){return(t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},t._sqlite3_bind_parameter_count=function(){return(t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},t._sqlite3_bind_parameter_index=function(){return(t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},t._sqlite3_db_handle=function(){return(t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},t._sqlite3_stmt_readonly=function(){return(t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},t._sqlite3_stmt_isexplain=function(){return(t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},t._sqlite3_stmt_status=function(){return(t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},t._sqlite3_sql=function(){return(t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},t._sqlite3_expanded_sql=function(){return(t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},t._sqlite3_preupdate_old=function(){return(t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},t._sqlite3_preupdate_count=function(){return(t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},t._sqlite3_preupdate_depth=function(){return(t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},t._sqlite3_preupdate_blobwrite=function(){return(t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},t._sqlite3_preupdate_new=function(){return(t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},t._sqlite3_value_numeric_type=function(){return(t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},t._sqlite3_errmsg=function(){return(t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},t._sqlite3_set_authorizer=function(){return(t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},t._sqlite3_strglob=function(){return(t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},t._sqlite3_strlike=function(){return(t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},t._sqlite3_exec=function(){return(t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},t._sqlite3_auto_extension=function(){return(t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},t._sqlite3_cancel_auto_extension=function(){return(t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},t._sqlite3_reset_auto_extension=function(){return(t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},t._sqlite3_prepare_v3=function(){return(t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},t._sqlite3_create_module=function(){return(t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},t._sqlite3_create_module_v2=function(){return(t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},t._sqlite3_drop_modules=function(){return(t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},t._sqlite3_declare_vtab=function(){return(t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},t._sqlite3_vtab_on_conflict=function(){return(t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},t._sqlite3_vtab_collation=function(){return(t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},t._sqlite3_vtab_in=function(){return(t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},t._sqlite3_vtab_rhs_value=function(){return(t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},t._sqlite3_vtab_distinct=function(){return(t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},t._sqlite3_keyword_name=function(){return(t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},t._sqlite3_keyword_count=function(){return(t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},t._sqlite3_keyword_check=function(){return(t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},t._sqlite3_complete=function(){return(t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},t._sqlite3_libversion=function(){return(t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},t._sqlite3_libversion_number=function(){return(t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},t._sqlite3_shutdown=function(){return(t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},t._sqlite3_last_insert_rowid=function(){return(t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},t._sqlite3_set_last_insert_rowid=function(){return(t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},t._sqlite3_changes64=function(){return(t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},t._sqlite3_changes=function(){return(t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},t._sqlite3_total_changes64=function(){return(t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},t._sqlite3_total_changes=function(){return(t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},t._sqlite3_txn_state=function(){return(t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},t._sqlite3_close_v2=function(){return(t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},t._sqlite3_busy_handler=function(){return(t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},t._sqlite3_progress_handler=function(){return(t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},t._sqlite3_busy_timeout=function(){return(t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},t._sqlite3_create_function=function(){return(t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},t._sqlite3_create_function_v2=function(){return(t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},t._sqlite3_create_window_function=function(){return(t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},t._sqlite3_overload_function=function(){return(t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},t._sqlite3_trace_v2=function(){return(t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},t._sqlite3_commit_hook=function(){return(t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},t._sqlite3_update_hook=function(){return(t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},t._sqlite3_rollback_hook=function(){return(t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},t._sqlite3_preupdate_hook=function(){return(t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},t._sqlite3_error_offset=function(){return(t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},t._sqlite3_errcode=function(){return(t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},t._sqlite3_extended_errcode=function(){return(t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},t._sqlite3_errstr=function(){return(t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},t._sqlite3_limit=function(){return(t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},t._sqlite3_open=function(){return(t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},t._sqlite3_open_v2=function(){return(t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},t._sqlite3_create_collation=function(){return(t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},t._sqlite3_create_collation_v2=function(){return(t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},t._sqlite3_collation_needed=function(){return(t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},t._sqlite3_table_column_metadata=function(){return(t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},t._sqlite3_extended_result_codes=function(){return(t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},t._sqlite3_uri_key=function(){return(t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},t._sqlite3_uri_int64=function(){return(t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},t._sqlite3_db_name=function(){return(t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},t._sqlite3_db_filename=function(){return(t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},t._sqlite3_compileoption_used=function(){return(t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},t._sqlite3_compileoption_get=function(){return(t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},t._sqlite3session_diff=function(){return(t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},t._sqlite3session_attach=function(){return(t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},t._sqlite3session_create=function(){return(t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},t._sqlite3session_delete=function(){return(t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},t._sqlite3session_table_filter=function(){return(t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},t._sqlite3session_changeset=function(){return(t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},t._sqlite3session_changeset_strm=function(){return(t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},t._sqlite3session_patchset_strm=function(){return(t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},t._sqlite3session_patchset=function(){return(t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},t._sqlite3session_enable=function(){return(t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},t._sqlite3session_indirect=function(){return(t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},t._sqlite3session_isempty=function(){return(t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},t._sqlite3session_memory_used=function(){return(t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},t._sqlite3session_object_config=function(){return(t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},t._sqlite3session_changeset_size=function(){return(t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},t._sqlite3changeset_start=function(){return(t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},t._sqlite3changeset_start_v2=function(){return(t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},t._sqlite3changeset_start_strm=function(){return(t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},t._sqlite3changeset_start_v2_strm=function(){return(t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},t._sqlite3changeset_next=function(){return(t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},t._sqlite3changeset_op=function(){return(t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},t._sqlite3changeset_pk=function(){return(t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},t._sqlite3changeset_old=function(){return(t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},t._sqlite3changeset_new=function(){return(t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},t._sqlite3changeset_conflict=function(){return(t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},t._sqlite3changeset_fk_conflicts=function(){return(t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},t._sqlite3changeset_finalize=function(){return(t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},t._sqlite3changeset_invert=function(){return(t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},t._sqlite3changeset_invert_strm=function(){return(t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},t._sqlite3changeset_apply_v2=function(){return(t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},t._sqlite3changeset_apply=function(){return(t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},t._sqlite3changeset_apply_v2_strm=function(){return(t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},t._sqlite3changeset_apply_strm=function(){return(t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},t._sqlite3changegroup_new=function(){return(t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},t._sqlite3changegroup_add=function(){return(t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},t._sqlite3changegroup_output=function(){return(t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},t._sqlite3changegroup_add_strm=function(){return(t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},t._sqlite3changegroup_output_strm=function(){return(t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},t._sqlite3changegroup_delete=function(){return(t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},t._sqlite3changeset_concat=function(){return(t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},t._sqlite3changeset_concat_strm=function(){return(t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},t._sqlite3session_config=function(){return(t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},t._sqlite3_sourceid=function(){return(t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},t._sqlite3_wasm_pstack_ptr=function(){return(t._sqlite3_wasm_pstack_ptr=t.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},t._sqlite3_wasm_pstack_restore=function(){return(t._sqlite3_wasm_pstack_restore=t.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},t._sqlite3_wasm_pstack_alloc=function(){return(t._sqlite3_wasm_pstack_alloc=t.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},t._sqlite3_wasm_pstack_remaining=function(){return(t._sqlite3_wasm_pstack_remaining=t.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},t._sqlite3_wasm_pstack_quota=function(){return(t._sqlite3_wasm_pstack_quota=t.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},t._sqlite3_wasm_db_error=function(){return(t._sqlite3_wasm_db_error=t.asm.sqlite3_wasm_db_error).apply(null,arguments)},t._sqlite3_wasm_test_struct=function(){return(t._sqlite3_wasm_test_struct=t.asm.sqlite3_wasm_test_struct).apply(null,arguments)},t._sqlite3_wasm_enum_json=function(){return(t._sqlite3_wasm_enum_json=t.asm.sqlite3_wasm_enum_json).apply(null,arguments)},t._sqlite3_wasm_vfs_unlink=function(){return(t._sqlite3_wasm_vfs_unlink=t.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},t._sqlite3_wasm_db_vfs=function(){return(t._sqlite3_wasm_db_vfs=t.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},t._sqlite3_wasm_db_reset=function(){return(t._sqlite3_wasm_db_reset=t.asm.sqlite3_wasm_db_reset).apply(null,arguments)},t._sqlite3_wasm_db_export_chunked=function(){return(t._sqlite3_wasm_db_export_chunked=t.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},t._sqlite3_wasm_db_serialize=function(){return(t._sqlite3_wasm_db_serialize=t.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},t._sqlite3_wasm_vfs_create_file=function(){return(t._sqlite3_wasm_vfs_create_file=t.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},t._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(t._sqlite3_wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},t._sqlite3_wasm_kvvfs_methods=function(){return(t._sqlite3_wasm_kvvfs_methods=t.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},t._sqlite3_wasm_vtab_config=function(){return(t._sqlite3_wasm_vtab_config=t.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},t._sqlite3_wasm_db_config_ip=function(){return(t._sqlite3_wasm_db_config_ip=t.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},t._sqlite3_wasm_db_config_pii=function(){return(t._sqlite3_wasm_db_config_pii=t.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},t._sqlite3_wasm_db_config_s=function(){return(t._sqlite3_wasm_db_config_s=t.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},t._sqlite3_wasm_config_i=function(){return(t._sqlite3_wasm_config_i=t.asm.sqlite3_wasm_config_i).apply(null,arguments)},t._sqlite3_wasm_config_ii=function(){return(t._sqlite3_wasm_config_ii=t.asm.sqlite3_wasm_config_ii).apply(null,arguments)},t._sqlite3_wasm_config_j=function(){return(t._sqlite3_wasm_config_j=t.asm.sqlite3_wasm_config_j).apply(null,arguments)},t._sqlite3_wasm_init_wasmfs=function(){return(t._sqlite3_wasm_init_wasmfs=t.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},t._sqlite3_wasm_test_intptr=function(){return(t._sqlite3_wasm_test_intptr=t.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},t._sqlite3_wasm_test_voidptr=function(){return(t._sqlite3_wasm_test_voidptr=t.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},t._sqlite3_wasm_test_int64_max=function(){return(t._sqlite3_wasm_test_int64_max=t.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},t._sqlite3_wasm_test_int64_min=function(){return(t._sqlite3_wasm_test_int64_min=t.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},t._sqlite3_wasm_test_int64_times2=function(){return(t._sqlite3_wasm_test_int64_times2=t.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},t._sqlite3_wasm_test_int64_minmax=function(){return(t._sqlite3_wasm_test_int64_minmax=t.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},t._sqlite3_wasm_test_int64ptr=function(){return(t._sqlite3_wasm_test_int64ptr=t.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},t._sqlite3_wasm_test_stack_overflow=function(){return(t._sqlite3_wasm_test_stack_overflow=t.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},t._sqlite3_wasm_test_str_hello=function(){return(t._sqlite3_wasm_test_str_hello=t.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var Ot=t._malloc=function(){return(Ot=t._malloc=t.asm.malloc).apply(null,arguments)};t._free=function(){return(t._free=t.asm.free).apply(null,arguments)},t._realloc=function(){return(t._realloc=t.asm.realloc).apply(null,arguments)},t.stackSave=function(){return(t.stackSave=t.asm.stackSave).apply(null,arguments)},t.stackRestore=function(){return(t.stackRestore=t.asm.stackRestore).apply(null,arguments)},t.stackAlloc=function(){return(t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},t.wasmMemory=Oe;var tt;He=function n(){tt||Pt(),tt||(He=n)};function Pt(n){if(Me>0||(Vt(),Me>0))return;function e(){tt||(tt=!0,t.calledRun=!0,!pt&&(Ht(),ge(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Gt()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Pt(),t.postRun||(t.postRun=[]),t.postRun.push(function(n){if(globalThis.sqlite3ApiBootstrap=function e(s=globalThis.sqlite3ApiConfig||e.defaultConfig){if(e.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),e.sqlite3;const r=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof n<"u"?!!n.HEAPU64:!!globalThis.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},s||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof r[a]=="function"&&(r[a]=r[a]())}),r.wasmOpfsDir=!1;const i=Object.create(null),l=Object.create(null),h=a=>i.sqlite3_js_rc_str&&i.sqlite3_js_rc_str(a)||"Unknown result code #"+a,w=a=>typeof a=="number"&&a===(a|0);class A extends Error{constructor(...c){let u;if(c.length)if(w(c[0]))if(u=c[0],c.length===1)super(h(c[0]));else{const I=h(u);typeof c[1]=="object"?super(I,c[1]):(c[0]=I+":",super(c.join(" ")))}else c.length===2&&typeof c[1]=="object"?super(...c):super(c.join(" "));this.resultCode=u||i.SQLITE_ERROR,this.name="SQLite3Error"}}A.toss=(...a)=>{throw new A(...a)};const C=A.toss;r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)&&C("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const B=a=>typeof a!="bigint"&&a===(a|0)&&a<=2147483647&&a>=-2147483648,Q=function a(c){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),c>=a._min&&c<=a._max},v=a=>a>=-0x7fffffffn-1n&&a<=0x7fffffffn,_=function a(c){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),c>=a._min&&c<=a._max},f=a=>a&&a.constructor&&B(a.constructor.BYTES_PER_ELEMENT)?a:!1,q=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,b=a=>a.buffer instanceof q,g=(a,c,u)=>b(a)?a.slice(c,u):a.subarray(c,u),k=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),P=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),O=a=>k(a)||C("Value is not of a supported TypedArray type."),F=new TextDecoder("utf-8"),G=function(a,c,u){return F.decode(g(a,c,u))},R=function(a){return P(a)?G(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(l.isPtr(a)&&(a=l.cstrToJs(a)),a)};class p extends Error{constructor(...c){c.length===2&&typeof c[1]=="object"?super(...c):c.length?super(c.join(" ")):super("Allocation failed."),this.resultCode=i.SQLITE_NOMEM,this.name="WasmAllocError"}}p.toss=(...a)=>{throw new p(...a)},Object.assign(i,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,c,u,I,T,V,H,K,Y)=>{},sqlite3_create_function:(a,c,u,I,T,V,H,K)=>{},sqlite3_create_window_function:(a,c,u,I,T,V,H,K,Y,J)=>{},sqlite3_prepare_v3:(a,c,u,I,T,V)=>{},sqlite3_prepare_v2:(a,c,u,I,T)=>{},sqlite3_exec:(a,c,u,I,T)=>{},sqlite3_randomness:(a,c)=>{}});const y={affirmBindableTypedArray:O,flexibleString:R,bigIntFits32:v,bigIntFits64:Q,bigIntFitsDouble:_,isBindableTypedArray:k,isInt32:B,isSQLableTypedArray:P,isTypedArray:f,typedArrayToString:G,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:b,toss:function(...a){throw new Error(a.join(" "))},toss3:C,typedArrayPart:g};Object.assign(l,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||C("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports.memory||C("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),l.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),O(a);const c=l.alloc(a.byteLength||1);return l.heapForSize(a.constructor).set(a.byteLength?a:[0],c),c};{const a=r.allocExportName,c=r.deallocExportName,u=r.reallocExportName;for(const I of[a,c,u])l.exports[I]instanceof Function||C("Missing required exports[",I,"] function.");l.alloc=function I(T){return I.impl(T)||p.toss("Failed to allocate",T," bytes.")},l.alloc.impl=l.exports[a],l.realloc=function I(T,V){const H=I.impl(T,V);return V?H||p.toss("Failed to reallocate",V," bytes."):0},l.realloc.impl=l.exports[u],l.dealloc=l.exports[c]}l.compileOptionUsed=function a(c){if(arguments.length){if(Array.isArray(c)){const u={};return c.forEach(I=>{u[I]=i.sqlite3_compileoption_used(I)}),u}else if(typeof c=="object")return Object.keys(c).forEach(u=>{c[u]=i.sqlite3_compileoption_used(u)}),c}else{if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function(H,K){const Y=a._rx.exec(H);K[0]=Y?Y[1]:H,K[1]=Y?a._rxInt.test(Y[2])?+Y[2]:Y[2]:!0});const u={},I=[0,0];let T=0,V;for(;V=i.sqlite3_compileoption_get(T++);)a._opt(V,I),u[I[0]]=I[1];return a._result=u}return typeof c=="string"?!!i.sqlite3_compileoption_used(c):!1},l.pstack=Object.assign(Object.create(null),{restore:l.exports.sqlite3_wasm_pstack_restore,alloc:function(a){return typeof a=="string"&&!(a=l.sizeofIR(a))&&p.toss("Invalid value for pstack.alloc(",arguments[0],")"),l.exports.sqlite3_wasm_pstack_alloc(a)||p.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,c){typeof c=="string"&&!(c=l.sizeofIR(c))&&p.toss("Invalid size value for allocChunks(",arguments[1],")");const u=l.pstack.alloc(a*c),I=[];let T=0,V=0;for(;T<a;++T,V+=c)I.push(u+V);return I},allocPtr:(a=1,c=!0)=>a===1?l.pstack.alloc(c?8:l.ptrSizeof):l.pstack.allocChunks(a,c?8:l.ptrSizeof)}),Object.defineProperties(l.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:l.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:l.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:l.exports.sqlite3_wasm_pstack_remaining}}),i.sqlite3_randomness=(...a)=>{if(a.length===1&&y.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){const c=a[0];if(c.byteLength===0)return l.exports.sqlite3_randomness(0,0),c;const u=l.pstack.pointer;try{let I=c.byteLength,T=0;const V=l.exports.sqlite3_randomness,H=l.heap8u(),K=I<512?I:512,Y=l.pstack.alloc(K);do{const J=I>K?K:I;V(J,Y),c.set(g(H,Y,Y+J),T),I-=J,T+=J}while(I>0)}catch(I){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",I)}finally{l.pstack.restore(u)}return c}l.exports.sqlite3_randomness(...a)};let E;if(i.sqlite3_wasmfs_opfs_dir=function(){if(E!==void 0)return E;const a=r.wasmfsOpfsDir;if(console.error("sqlite3_wasmfs_opfs_dir() can no longer work due to incompatible WASMFS changes. It will be removed."),!a||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return E="";try{return a&&l.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],a)===0?E=a:E=""}catch{return E=""}},i.sqlite3_wasmfs_filename_is_persistent=function(a){const c=i.sqlite3_wasmfs_opfs_dir();return c&&a?a.startsWith(c+"/"):!1},i.sqlite3_js_db_uses_vfs=function(a,c,u=0){try{const I=i.sqlite3_vfs_find(c);return I?a?I===i.sqlite3_js_db_vfs(a,u)?I:!1:I===i.sqlite3_vfs_find(0)?I:!1:!1}catch{return!1}},i.sqlite3_js_vfs_list=function(){const a=[];let c=i.sqlite3_vfs_find(0);for(;c;){const u=new i.sqlite3_vfs(c);a.push(l.cstrToJs(u.$zName)),c=u.$pNext,u.dispose()}return a},i.sqlite3_js_db_export=function(a,c=0){a=l.xWrap.testConvertArg("sqlite3*",a),a||C("Invalid sqlite3* argument."),l.bigIntEnabled||C("BigInt64 support is not enabled.");const u=l.scopedAllocPush();let I;try{const T=l.scopedAlloc(8+l.ptrSizeof),V=T+8,H=c?l.isPtr(c)?c:l.scopedAllocCString(""+c):0;let K=l.exports.sqlite3_wasm_db_serialize(a,H,V,T,0);K&&C("Database serialization failed with code",d.capi.sqlite3_js_rc_str(K)),I=l.peekPtr(V);const Y=l.peek(T,"i64");return K=Y?l.heap8u().slice(I,I+Number(Y)):new Uint8Array,K}finally{I&&l.exports.sqlite3_free(I),l.scopedAllocPop(u)}},i.sqlite3_js_db_vfs=(a,c=0)=>l.sqlite3_wasm_db_vfs(a,c),i.sqlite3_js_aggregate_context=(a,c)=>i.sqlite3_aggregate_context(a,c)||(c?p.toss("Cannot allocate",c,"bytes for sqlite3_aggregate_context()"):0),i.sqlite3_js_vfs_create_file=function(a,c,u,I){let T;u?(l.isPtr(u)?T=u:u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u instanceof Uint8Array?(T=l.allocFromTypedArray(u),(arguments.length<4||!y.isInt32(I)||I<0)&&(I=u.byteLength)):A.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):T=0,(!y.isInt32(I)||I<0)&&(l.dealloc(T),A.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const V=l.sqlite3_wasm_vfs_create_file(a,c,T,I);V&&A.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(V))}finally{l.dealloc(T)}},y.isUIThread()){const a=function(c){const u=Object.create(null);return u.prefix="kvvfs-"+c,u.stores=[],(c==="session"||c==="")&&u.stores.push(globalThis.sessionStorage),(c==="local"||c==="")&&u.stores.push(globalThis.localStorage),u};i.sqlite3_js_kvvfs_clear=function(c=""){let u=0;const I=a(c);return I.stores.forEach(T=>{const V=[];let H;for(H=0;H<T.length;++H){const K=T.key(H);K.startsWith(I.prefix)&&V.push(K)}V.forEach(K=>T.removeItem(K)),u+=V.length}),u},i.sqlite3_js_kvvfs_size=function(c=""){let u=0;const I=a(c);return I.stores.forEach(T=>{let V;for(V=0;V<T.length;++V){const H=T.key(V);H.startsWith(I.prefix)&&(u+=H.length,u+=T.getItem(H).length)}}),u*2}}i.sqlite3_db_config=(function(a,c,...u){switch(this.s||(this.s=l.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=l.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=l.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),c){case i.SQLITE_DBCONFIG_ENABLE_FKEY:case i.SQLITE_DBCONFIG_ENABLE_TRIGGER:case i.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case i.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case i.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case i.SQLITE_DBCONFIG_ENABLE_QPSG:case i.SQLITE_DBCONFIG_TRIGGER_EQP:case i.SQLITE_DBCONFIG_RESET_DATABASE:case i.SQLITE_DBCONFIG_DEFENSIVE:case i.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case i.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case i.SQLITE_DBCONFIG_DQS_DML:case i.SQLITE_DBCONFIG_DQS_DDL:case i.SQLITE_DBCONFIG_ENABLE_VIEW:case i.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case i.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case i.SQLITE_DBCONFIG_STMT_SCANSTATUS:case i.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(a,c,u[0],u[1]||0);case i.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(a,c,u[0],u[1],u[2]);case i.SQLITE_DBCONFIG_MAINDBNAME:return this.s(a,c,u[0]);default:return i.SQLITE_MISUSE}}).bind(Object.create(null)),i.sqlite3_value_to_js=function(a,c=!0){let u;const I=i.sqlite3_value_type(a);switch(I){case i.SQLITE_INTEGER:l.bigIntEnabled?(u=i.sqlite3_value_int64(a),y.bigIntFitsDouble(u)&&(u=Number(u))):u=i.sqlite3_value_double(a);break;case i.SQLITE_FLOAT:u=i.sqlite3_value_double(a);break;case i.SQLITE_TEXT:u=i.sqlite3_value_text(a);break;case i.SQLITE_BLOB:{const T=i.sqlite3_value_bytes(a),V=i.sqlite3_value_blob(a);T&&!V&&d.WasmAllocError.toss("Cannot allocate memory for blob argument of",T,"byte(s)"),u=T?l.heap8u().slice(V,V+Number(T)):null;break}case i.SQLITE_NULL:u=null;break;default:c&&C(i.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",I),u=void 0}return u},i.sqlite3_values_to_js=function(a,c,u=!0){let I;const T=[];for(I=0;I<a;++I)T.push(i.sqlite3_value_to_js(l.peekPtr(c+l.ptrSizeof*I)));return T},i.sqlite3_result_error_js=function(a,c){c instanceof p?i.sqlite3_result_error_nomem(a):i.sqlite3_result_error(a,""+c,-1)},i.sqlite3_result_js=function(a,c){if(c instanceof Error){i.sqlite3_result_error_js(a,c);return}try{switch(typeof c){case"undefined":break;case"boolean":i.sqlite3_result_int(a,c?1:0);break;case"bigint":y.bigIntFits32(c)?i.sqlite3_result_int(a,Number(c)):y.bigIntFitsDouble(c)?i.sqlite3_result_double(a,Number(c)):l.bigIntEnabled?y.bigIntFits64(c)?i.sqlite3_result_int64(a,c):C("BigInt value",c.toString(),"is too BigInt for int64."):C("BigInt value",c.toString(),"is too BigInt.");break;case"number":{let u;y.isInt32(c)?u=i.sqlite3_result_int:l.bigIntEnabled&&Number.isInteger(c)&&y.bigIntFits64(BigInt(c))?u=i.sqlite3_result_int64:u=i.sqlite3_result_double,u(a,c);break}case"string":{const[u,I]=l.allocCString(c,!0);i.sqlite3_result_text(a,u,I,i.SQLITE_WASM_DEALLOC);break}case"object":if(c===null){i.sqlite3_result_null(a);break}else if(y.isBindableTypedArray(c)){const u=l.allocFromTypedArray(c);i.sqlite3_result_blob(a,u,c.byteLength,i.SQLITE_WASM_DEALLOC);break}default:C("Don't not how to handle this UDF result value:",typeof c,c)}}catch(u){i.sqlite3_result_error_js(a,u)}},i.sqlite3_column_js=function(a,c,u=!0){const I=i.sqlite3_column_value(a,c);return I===0?void 0:i.sqlite3_value_to_js(I,u)};const m=(function(a,c,u){u=i[u],this.ptr?l.pokePtr(this.ptr,0):this.ptr=l.allocPtr();const I=u(a,c,this.ptr);if(I)return A.toss(I,arguments[2]+"() failed with code "+I);const T=l.peekPtr(this.ptr);return T?i.sqlite3_value_to_js(T,!0):void 0}).bind(Object.create(null));i.sqlite3_preupdate_new_js=(a,c)=>m(a,c,"sqlite3_preupdate_new"),i.sqlite3_preupdate_old_js=(a,c)=>m(a,c,"sqlite3_preupdate_old"),i.sqlite3changeset_new_js=(a,c)=>m(a,c,"sqlite3changeset_new"),i.sqlite3changeset_old_js=(a,c)=>m(a,c,"sqlite3changeset_old");const d={WasmAllocError:p,SQLite3Error:A,capi:i,util:y,wasm:l,config:r,version:Object.create(null),client:void 0,asyncPostInit:async function(){let a=e.initializersAsync;if(delete e.initializersAsync,!a||!a.length)return Promise.resolve(d);a=a.map(u=>(u instanceof Promise?u:u(d)).catch(T=>{throw console.error("an async sqlite3 initializer failed:",T),T}));const c=()=>(d.__isUnderTest||(delete d.util,delete d.StructBinder),d);{let u=a.shift();for(;a.length;)u=u.then(a.shift());return u.then(c)}},scriptInfo:void 0};try{e.initializers.forEach(a=>{a(d)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete e.initializers,e.sqlite3=d,d},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){var R;e.bigIntEnabled===void 0&&(e.bigIntEnabled=!!self.BigInt64Array);const s=(...p)=>{throw new Error(p.join(" "))};e.exports||Object.defineProperty(e,"exports",{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});const r=e.pointerIR||"i32",i=e.ptrSizeof=r==="i32"?4:r==="i64"?8:s("Unhandled ptrSizeof:",r),l=Object.create(null);l.heapSize=0,l.memory=null,l.freeFuncIndexes=[],l.scopedAlloc=[],l.utf8Decoder=new TextDecoder,l.utf8Encoder=new TextEncoder("utf-8"),e.sizeofIR=p=>{switch(p){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return i;default:return(""+p).endsWith("*")?i:void 0}};const h=function(){if(!l.memory)l.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;else if(l.heapSize===l.memory.buffer.byteLength)return l;const p=l.memory.buffer;return l.HEAP8=new Int8Array(p),l.HEAP8U=new Uint8Array(p),l.HEAP16=new Int16Array(p),l.HEAP16U=new Uint16Array(p),l.HEAP32=new Int32Array(p),l.HEAP32U=new Uint32Array(p),e.bigIntEnabled&&(l.HEAP64=new BigInt64Array(p),l.HEAP64U=new BigUint64Array(p)),l.HEAP32F=new Float32Array(p),l.HEAP64F=new Float64Array(p),l.heapSize=p.byteLength,l};e.heap8=()=>h().HEAP8,e.heap8u=()=>h().HEAP8U,e.heap16=()=>h().HEAP16,e.heap16u=()=>h().HEAP16U,e.heap32=()=>h().HEAP32,e.heap32u=()=>h().HEAP32U,e.heapForSize=function(p,y=!0){const E=l.memory&&l.heapSize===l.memory.buffer.byteLength?l:h();switch(p){case Int8Array:return E.HEAP8;case Uint8Array:return E.HEAP8U;case Int16Array:return E.HEAP16;case Uint16Array:return E.HEAP16U;case Int32Array:return E.HEAP32;case Uint32Array:return E.HEAP32U;case 8:return y?E.HEAP8U:E.HEAP8;case 16:return y?E.HEAP16U:E.HEAP16;case 32:return y?E.HEAP32U:E.HEAP32;case 64:if(E.HEAP64)return y?E.HEAP64U:E.HEAP64;break;default:if(e.bigIntEnabled){if(p===self.BigUint64Array)return E.HEAP64U;if(p===self.BigInt64Array)return E.HEAP64;break}}s("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(p){const y=e.functionTable();return p<y.length?y.get(p):void 0},e.jsFuncToWasm=function p(y,E){if(p._||(p._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(a,c,u){u<128?a[c](u):a[c](u%128|128,u>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(a){const c=p._.rxJSig.exec(a);return c?c[2]:a.substr(1)},letterType:a=>p._.sigTypes[a]||s("Invalid signature letter:",a),pushSigType:(a,c)=>a.push(p._.typeCodes[p._.letterType(c)])}),typeof y=="string"){const a=E;E=y,y=a}const m=p._.sigParams(E),d=[1,96];p._.uleb128Encode(d,"push",m.length);for(const a of m)p._.pushSigType(d,a);return E[0]==="v"?d.push(0):(d.push(1),p._.pushSigType(d,E[0])),p._.uleb128Encode(d,"unshift",d.length),d.unshift(0,97,115,109,1,0,0,0,1),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(d)),{e:{f:y}}).exports.f};const w=function(y,E,m){if(m&&!l.scopedAlloc.length&&s("No scopedAllocPush() scope is active."),typeof y=="string"){const u=E;E=y,y=u}(typeof E!="string"||!(y instanceof Function))&&s("Invalid arguments: expecting (function,signature) or (signature,function).");const d=e.functionTable(),a=d.length;let c;for(;l.freeFuncIndexes.length&&(c=l.freeFuncIndexes.pop(),d.get(c));){c=null;continue}c||(c=a,d.grow(1));try{return d.set(c,y),m&&l.scopedAlloc[l.scopedAlloc.length-1].push(c),c}catch(u){if(!(u instanceof TypeError))throw c===a&&l.freeFuncIndexes.push(a),u}try{const u=e.jsFuncToWasm(y,E);d.set(c,u),m&&l.scopedAlloc[l.scopedAlloc.length-1].push(c)}catch(u){throw c===a&&l.freeFuncIndexes.push(a),u}return c};e.installFunction=(p,y)=>w(p,y,!1),e.scopedInstallFunction=(p,y)=>w(p,y,!0),e.uninstallFunction=function(p){if(!p&&p!==0)return;const y=l.freeFuncIndexes,E=e.functionTable();y.push(p);const m=E.get(p);return E.set(p,null),m},e.peek=function(y,E="i8"){E.endsWith("*")&&(E=r);const m=l.memory&&l.heapSize===l.memory.buffer.byteLength?l:h(),d=Array.isArray(y)?[]:void 0;let a;do{switch(d&&(y=arguments[0].shift()),E){case"i1":case"i8":a=m.HEAP8[y>>0];break;case"i16":a=m.HEAP16[y>>1];break;case"i32":a=m.HEAP32[y>>2];break;case"float":case"f32":a=m.HEAP32F[y>>2];break;case"double":case"f64":a=Number(m.HEAP64F[y>>3]);break;case"i64":if(e.bigIntEnabled){a=BigInt(m.HEAP64[y>>3]);break}default:s("Invalid type for peek():",E)}d&&d.push(a)}while(d&&arguments[0].length);return d||a},e.poke=function(p,y,E="i8"){E.endsWith("*")&&(E=r);const m=l.memory&&l.heapSize===l.memory.buffer.byteLength?l:h();for(const d of Array.isArray(p)?p:[p])switch(E){case"i1":case"i8":m.HEAP8[d>>0]=y;continue;case"i16":m.HEAP16[d>>1]=y;continue;case"i32":m.HEAP32[d>>2]=y;continue;case"float":case"f32":m.HEAP32F[d>>2]=y;continue;case"double":case"f64":m.HEAP64F[d>>3]=y;continue;case"i64":if(m.HEAP64){m.HEAP64[d>>3]=BigInt(y);continue}default:s("Invalid type for poke(): "+E)}return this},e.peekPtr=(...p)=>e.peek(p.length===1?p[0]:p,r),e.pokePtr=(p,y=0)=>e.poke(p,y,r),e.peek8=(...p)=>e.peek(p.length===1?p[0]:p,"i8"),e.poke8=(p,y)=>e.poke(p,y,"i8"),e.peek16=(...p)=>e.peek(p.length===1?p[0]:p,"i16"),e.poke16=(p,y)=>e.poke(p,y,"i16"),e.peek32=(...p)=>e.peek(p.length===1?p[0]:p,"i32"),e.poke32=(p,y)=>e.poke(p,y,"i32"),e.peek64=(...p)=>e.peek(p.length===1?p[0]:p,"i64"),e.poke64=(p,y)=>e.poke(p,y,"i64"),e.peek32f=(...p)=>e.peek(p.length===1?p[0]:p,"f32"),e.poke32f=(p,y)=>e.poke(p,y,"f32"),e.peek64f=(...p)=>e.peek(p.length===1?p[0]:p,"f64"),e.poke64f=(p,y)=>e.poke(p,y,"f64"),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=p=>typeof p=="number"&&p===(p|0)&&p>=0,e.isPtr=e.isPtr32,e.cstrlen=function(p){if(!p||!e.isPtr(p))return null;const y=h().HEAP8U;let E=p;for(;y[E]!==0;++E);return E-p};const A=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,C=function(p,y,E){return l.utf8Decoder.decode(p.buffer instanceof A?p.slice(y,E):p.subarray(y,E))};e.cstrToJs=function(p){const y=e.cstrlen(p);return y?C(h().HEAP8U,p,p+y):y===null?y:""},e.jstrlen=function(p){if(typeof p!="string")return null;const y=p.length;let E=0;for(let m=0;m<y;++m){let d=p.charCodeAt(m);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|p.charCodeAt(++m)&1023),d<=127?++E:d<=2047?E+=2:d<=65535?E+=3:E+=4}return E},e.jstrcpy=function(p,y,E=0,m=-1,d=!0){if((!y||!(y instanceof Int8Array)&&!(y instanceof Uint8Array))&&s("jstrcpy() target must be an Int8Array or Uint8Array."),m<0&&(m=y.length-E),!(m>0)||!(E>=0))return 0;let a=0,c=p.length;const u=E,I=E+m-(d?1:0);for(;a<c&&E<I;++a){let T=p.charCodeAt(a);if(T>=55296&&T<=57343&&(T=65536+((T&1023)<<10)|p.charCodeAt(++a)&1023),T<=127){if(E>=I)break;y[E++]=T}else if(T<=2047){if(E+1>=I)break;y[E++]=192|T>>6,y[E++]=128|T&63}else if(T<=65535){if(E+2>=I)break;y[E++]=224|T>>12,y[E++]=128|T>>6&63,y[E++]=128|T&63}else{if(E+3>=I)break;y[E++]=240|T>>18,y[E++]=128|T>>12&63,y[E++]=128|T>>6&63,y[E++]=128|T&63}}return d&&(y[E++]=0),E-u},e.cstrncpy=function(p,y,E){if((!p||!y)&&s("cstrncpy() does not accept NULL strings."),E<0)E=e.cstrlen(strPtr)+1;else if(!(E>0))return 0;const m=e.heap8u();let d=0,a;for(;d<E&&(a=m[y+d]);++d)m[p+d]=a;return d<E&&(m[p+d++]=0),d},e.jstrToUintArray=(p,y=!1)=>l.utf8Encoder.encode(y?p+"\0":p);const B=(p,y)=>{(!(p.alloc instanceof Function)||!(p.dealloc instanceof Function))&&s("Object is missing alloc() and/or dealloc() function(s)","required by",y+"().")},Q=function(p,y,E,m){if(B(e,m),typeof p!="string")return null;{const d=l.utf8Encoder.encode(p),a=E(d.length+1),c=h().HEAP8U;return c.set(d,a),c[a+d.length]=0,y?[a,d.length]:a}};e.allocCString=(p,y=!1)=>Q(p,y,e.alloc,"allocCString()"),e.scopedAllocPush=function(){B(e,"scopedAllocPush");const p=[];return l.scopedAlloc.push(p),p},e.scopedAllocPop=function(p){B(e,"scopedAllocPop");const y=arguments.length?l.scopedAlloc.indexOf(p):l.scopedAlloc.length-1;y<0&&s("Invalid state object for scopedAllocPop()."),arguments.length===0&&(p=l.scopedAlloc[y]),l.scopedAlloc.splice(y,1);for(let E;E=p.pop();)e.functionEntry(E)?e.uninstallFunction(E):e.dealloc(E)},e.scopedAlloc=function(p){l.scopedAlloc.length||s("No scopedAllocPush() scope is active.");const y=e.alloc(p);return l.scopedAlloc[l.scopedAlloc.length-1].push(y),y},Object.defineProperty(e.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>l.scopedAlloc.length,set:()=>s("The 'active' property is read-only.")}),e.scopedAllocCString=(p,y=!1)=>Q(p,y,e.scopedAlloc,"scopedAllocCString()");const v=function(p,y){const E=e[p?"scopedAlloc":"alloc"]((y.length+1)*e.ptrSizeof);let m=0;return y.forEach(d=>{e.pokePtr(E+e.ptrSizeof*m++,e[p?"scopedAllocCString":"allocCString"](""+d))}),e.pokePtr(E+e.ptrSizeof*m,0),E};e.scopedAllocMainArgv=p=>v(!0,p),e.allocMainArgv=p=>v(!1,p),e.cArgvToJs=(p,y)=>{const E=[];for(let m=0;m<p;++m){const d=e.peekPtr(y+e.ptrSizeof*m);E.push(d?e.cstrToJs(d):null)}return E},e.scopedAllocCall=function(p){e.scopedAllocPush();try{return p()}finally{e.scopedAllocPop()}};const _=function(p,y,E){B(e,E);const m=y?"i64":r;let d=e[E](p*(y?8:i));if(e.poke(d,0,m),p===1)return d;const a=[d];for(let c=1;c<p;++c)d+=y?8:i,a[c]=d,e.poke(d,0,m);return a};e.allocPtr=(p=1,y=!0)=>_(p,y,"alloc"),e.scopedAllocPtr=(p=1,y=!0)=>_(p,y,"scopedAlloc"),e.xGet=function(p){return e.exports[p]||s("Cannot find exported symbol:",p)};const f=(p,y)=>s(p+"() requires",y,"argument(s).");e.xCall=function(p,...y){const E=e.xGet(p);return E instanceof Function||s("Exported symbol",p,"is not a function."),E.length!==y.length&&f(p,E.length),arguments.length===2&&Array.isArray(arguments[1])?E.apply(null,arguments[1]):E.apply(null,y)},l.xWrap=Object.create(null),l.xWrap.convert=Object.create(null),l.xWrap.convert.arg=new Map,l.xWrap.convert.result=new Map;const q=l.xWrap.convert.arg,b=l.xWrap.convert.result;e.bigIntEnabled&&q.set("i64",p=>BigInt(p));const g=r==="i32"?p=>p|0:p=>BigInt(p)|BigInt(0);q.set("i32",g).set("i16",p=>(p|0)&65535).set("i8",p=>(p|0)&255).set("f32",p=>Number(p).valueOf()).set("float",q.get("f32")).set("f64",q.get("f32")).set("double",q.get("f64")).set("int",q.get("i32")).set("null",p=>p).set(null,q.get("null")).set("**",g).set("*",g),b.set("*",g).set("pointer",g).set("number",p=>Number(p)).set("void",p=>{}).set("null",p=>p).set(null,b.get("null"));{const p=["i8","i16","i32","int","f32","float","f64","double"];e.bigIntEnabled&&p.push("i64");const y=q.get(r);for(const E of p)q.set(E+"*",y),b.set(E+"*",y),b.set(E,q.get(E)||s("Missing arg converter:",E))}const k=function(p){return typeof p=="string"?e.scopedAllocCString(p):p?g(p):null};q.set("string",k).set("utf8",k).set("pointer",k),b.set("string",p=>e.cstrToJs(p)).set("utf8",b.get("string")).set("string:dealloc",p=>{try{return p?e.cstrToJs(p):null}finally{e.dealloc(p)}}).set("utf8:dealloc",b.get("string:dealloc")).set("json",p=>JSON.parse(e.cstrToJs(p))).set("json:dealloc",p=>{try{return p?JSON.parse(e.cstrToJs(p)):null}finally{e.dealloc(p)}});const P=class{constructor(p){this.name=p.name||"unnamed adapter"}convertArg(p,y,E){s("AbstractArgAdapter must be subclassed.")}};q.FuncPtrAdapter=(R=class extends P{constructor(y){super(y),q.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",y),this.signature=y.signature,y.contextKey instanceof Function&&(this.contextKey=y.contextKey,y.bindScope||(y.bindScope="context")),this.bindScope=y.bindScope||s("FuncPtrAdapter options requires a bindScope (explicit or implied)."),R.bindScopes.indexOf(y.bindScope)<0&&s("Invalid options.bindScope ("+y.bindMod+") for FuncPtrAdapter. Expecting one of: ("+R.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=y.callProxy instanceof Function?y.callProxy:void 0}contextKey(y,E){return this}contextMap(y){const E=this.__cmap||(this.__cmap=new Map);let m=E.get(y);return m===void 0&&E.set(y,m=[]),m}convertArg(y,E,m){let d=this.singleton;if(!d&&this.isContext&&(d=this.contextMap(this.contextKey(E,m))),d&&d[0]===y)return d[1];if(y instanceof Function){this.callProxy&&(y=this.callProxy(y));const a=w(y,this.signature,this.isTransient);if(R.debugFuncInstall&&R.debugOut("FuncPtrAdapter installed",this,this.contextKey(E,m),"@"+a,y),d){if(d[1]){R.debugFuncInstall&&R.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(E,m),"@"+d[1],y);try{e.uninstallFunction(d[1])}catch{}}d[0]=y,d[1]=a}return a}else if(e.isPtr(y)||y===null||y===void 0){if(d&&d[1]&&d[1]!==y){R.debugFuncInstall&&R.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(E,m),"@"+d[1],y);try{e.uninstallFunction(d[1])}catch{}d[0]=d[1]=y|0}return y||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},Ke(R,"warnOnUse",!1),Ke(R,"debugFuncInstall",!1),Ke(R,"debugOut",console.debug.bind(console)),Ke(R,"bindScopes",["transient","context","singleton","permanent"]),R);const O=p=>q.get(p)||s("Argument adapter not found:",p),F=p=>b.get(p)||s("Result adapter not found:",p);l.xWrap.convertArg=(p,...y)=>O(p)(...y),l.xWrap.convertArgNoCheck=(p,...y)=>q.get(p)(...y),l.xWrap.convertResult=(p,y)=>p===null?y:p?F(p)(y):void 0,l.xWrap.convertResultNoCheck=(p,y)=>p===null?y:p?b.get(p)(y):void 0,e.xWrap=function(p,y,...E){arguments.length===3&&Array.isArray(arguments[2])&&(E=arguments[2]),e.isPtr(p)&&(p=e.functionEntry(p)||s("Function pointer not found in WASM function table."));const m=p instanceof Function,d=m?p:e.xGet(p);if(m&&(p=d.name||"unnamed function"),E.length!==d.length&&f(p,d.length),y===null&&d.length===0)return d;y!=null&&F(y);for(const c of E)c instanceof P?q.set(c,(...u)=>c.convertArg(...u)):O(c);const a=l.xWrap;return d.length===0?(...c)=>c.length?f(p,d.length):a.convertResult(y,d.call(null)):function(...c){c.length!==d.length&&f(p,d.length);const u=e.scopedAllocPush();try{for(const I in c)c[I]=a.convertArgNoCheck(E[I],c[I],c,I);return a.convertResultNoCheck(y,d.apply(null,c))}finally{e.scopedAllocPop(u)}}};const G=function(p,y,E,m,d,a){if(typeof E=="string"){if(y===1)return a.get(E);if(y===2){if(m)m instanceof Function||s(d,"requires a function argument.");else return delete a.get(E),p;return a.set(E,m),p}}s("Invalid arguments to",d)};return e.xWrap.resultAdapter=function p(y,E){return G(p,arguments.length,y,E,"resultAdapter()",b)},e.xWrap.argAdapter=function p(y,E){return G(p,arguments.length,y,E,"argAdapter()",q)},e.xWrap.FuncPtrAdapter=q.FuncPtrAdapter,e.xCallWrapped=function(p,y,E,...m){return Array.isArray(arguments[3])&&(m=arguments[3]),e.xWrap(p,y,E||[]).apply(null,m||[])},e.xWrap.testConvertArg=l.xWrap.convertArg,e.xWrap.testConvertResult=l.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=(function(e){const s=()=>fetch(e.uri,{credentials:"same-origin"}),r=this,i=function(h){if(e.wasmUtilTarget){const w=(...C)=>{throw new Error(C.join(" "))},A=e.wasmUtilTarget;if(A.module=h.module,A.instance=h.instance,A.instance.exports.memory||(A.memory=e.imports&&e.imports.env&&e.imports.env.memory||w("Missing 'memory' object!")),!A.alloc&&h.instance.exports.malloc){const C=h.instance.exports;A.alloc=function(B){return C.malloc(B)||w("Allocation of",B,"bytes failed.")},A.dealloc=function(B){C.free(B)}}r(A)}return e.onload&&e.onload(h,e),h};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(s(),e.imports||{}).then(i)}:function(){return s().then(w=>w.arrayBuffer()).then(w=>WebAssembly.instantiate(w,e.imports||{})).then(i)}}).bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(s){const r=(...S)=>{throw new Error(S.join(" "))};!(s.heap instanceof WebAssembly.Memory)&&!(s.heap instanceof Function)&&r("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(S){s[S]instanceof Function||r("Config option '"+S+"' must be a function.")});const i=e,l=s.heap instanceof Function?s.heap:()=>new Uint8Array(s.heap.buffer),h=s.alloc,w=s.dealloc,A=s.log||console.log.bind(console),C=s.memberPrefix||"",B=s.memberSuffix||"",Q=s.bigIntEnabled===void 0?!!self.BigInt64Array:!!s.bigIntEnabled,v=self.BigInt,_=self.BigInt64Array,f=s.ptrSizeof||4,q=s.ptrIR||"i32";i.debugFlags||(i.__makeDebugFlags=function(S=null){S&&S.__flags&&(S=S.__flags);const M=function N(z){return arguments.length===0?N.__flags:(z<0?(delete N.__flags.getter,delete N.__flags.setter,delete N.__flags.alloc,delete N.__flags.dealloc):(N.__flags.getter=(1&z)!==0,N.__flags.setter=(2&z)!==0,N.__flags.alloc=(4&z)!==0,N.__flags.dealloc=(8&z)!==0),N._flags)};return Object.defineProperty(M,"__flags",{iterable:!1,writable:!1,value:Object.create(S)}),S||M(0),M},i.debugFlags=i.__makeDebugFlags());const b=function(){const S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]===256}(),g=S=>S[1]==="(",k=S=>S==="P",P=S=>g(S)?"p":S[0],O=function(S){switch(P(S)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return q;case"j":return"i64";case"f":return"float";case"d":return"double"}r("Unhandled signature IR:",S)},F=_?()=>!0:()=>r("BigInt64Array is not available."),G=function(S){switch(P(S)){case"p":case"P":case"s":{switch(f){case 4:return"getInt32";case 8:return F()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return F()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}r("Unhandled DataView getter for signature:",S)},R=function(S){switch(P(S)){case"p":case"P":case"s":{switch(f){case 4:return"setInt32";case 8:return F()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return F()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}r("Unhandled DataView setter for signature:",S)},p=function(S){switch(P(S)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return F()&&v;case"p":case"P":case"s":switch(f){case 4:return Number;case 8:return F()&&v}break}r("Unhandled DataView set wrapper for signature:",S)},y=(S,M)=>S+"::"+M,E=function(S,M){return()=>r(y(S,M),"is read-only.")},m=new WeakMap,d="(pointer-is-external)",a=function(S,M,N){if(N||(N=m.get(M)),N){if(m.delete(M),Array.isArray(M.ondispose)){let z;for(;z=M.ondispose.shift();)try{z instanceof Function?z.call(M):z instanceof ne?z.dispose():typeof z=="number"&&w(z)}catch(oe){console.warn("ondispose() for",S.structName,"@",N,"threw. NOT propagating it.",oe)}}else if(M.ondispose instanceof Function)try{M.ondispose()}catch(z){console.warn("ondispose() for",S.structName,"@",N,"threw. NOT propagating it.",z)}delete M.ondispose,S.debugFlags.__flags.dealloc&&A("debug.dealloc:",M[d]?"EXTERNAL":"",S.structName,"instance:",S.structInfo.sizeof,"bytes @"+N),M[d]||w(N)}},c=S=>({configurable:!1,writable:!1,iterable:!1,value:S}),u=function(S,M,N){let z=!N;N?Object.defineProperty(M,d,c(N)):(N=h(S.structInfo.sizeof),N||r("Allocation of",S.structName,"structure failed."));try{S.debugFlags.__flags.alloc&&A("debug.alloc:",z?"":"EXTERNAL",S.structName,"instance:",S.structInfo.sizeof,"bytes @"+N),z&&l().fill(0,N,N+S.structInfo.sizeof),m.set(M,N)}catch(oe){throw a(S,M,N),oe}},I=function(){const S=this.pointer;return S?new Uint8Array(l().slice(S,S+this.structInfo.sizeof)):null},V=c(S=>C+S+B),H=function(S,M,N=!0){let z=S.members[M];if(!z&&(C||B)){for(const oe of Object.values(S.members))if(oe.key===M){z=oe;break}!z&&N&&r(y(S.name,M),"is not a mapped struct member.")}return z},K=function S(M,N,z=!1){S._||(S._=ce=>ce.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const oe=H(M.structInfo,N,!0);return z?S._(oe.signature):oe.signature},Y={configurable:!1,enumerable:!1,get:function(){return m.get(this)},set:()=>r("Cannot assign the 'pointer' property of a struct.")},J=c(function(){const S=[];for(const M of Object.keys(this.structInfo.members))S.push(this.memberKey(M));return S}),re=new TextDecoder("utf-8"),_e=new TextEncoder,he=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Se=function(S,M,N){return re.decode(S.buffer instanceof he?S.slice(M,N):S.subarray(M,N))},x=function(S,M,N=!1){const z=H(S.structInfo,M,N);return z&&z.signature.length===1&&z.signature[0]==="s"?z:!1},L=function(S){S.signature!=="s"&&r("Invalid member type signature for C-string value:",JSON.stringify(S))},D=function(M,N){const z=H(M.structInfo,N,!0);L(z);const oe=M[z.key];if(!oe)return null;let ce=oe;const le=l();for(;le[ce]!==0;++ce);return oe===ce?"":Se(le,oe,ce)},U=function(S,...M){S.ondispose?Array.isArray(S.ondispose)||(S.ondispose=[S.ondispose]):S.ondispose=[],S.ondispose.push(...M)},j=function(S){const M=_e.encode(S),N=h(M.length+1);N||r("Allocation error while duplicating string:",S);const z=l();return z.set(M,N),z[N+M.length]=0,N},se=function(S,M,N){const z=H(S.structInfo,M,!0);L(z);const oe=j(N);return S[z.key]=oe,U(S,oe),S},ne=function(M,N){arguments[2]!==c&&r("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:c(M),structInfo:c(N)})};ne.prototype=Object.create(null,{dispose:c(function(){a(this.constructor,this)}),lookupMember:c(function(S,M=!0){return H(this.structInfo,S,M)}),memberToJsString:c(function(S){return D(this,S)}),memberIsString:c(function(S,M=!0){return x(this,S,M)}),memberKey:V,memberKeys:J,memberSignature:c(function(S,M=!1){return K(this,S,M)}),memoryDump:c(I),pointer:Y,setMemberCString:c(function(S,M){return se(this,S,M)})}),Object.assign(ne.prototype,{addOnDispose:function(...S){return U(this,...S),this}}),Object.defineProperties(ne,{allocCString:c(j),isA:c(S=>S instanceof ne),hasExternalPointer:c(S=>S instanceof ne&&!!S[d]),memberKey:V});const W=S=>Number.isFinite(S)||S instanceof(v||Number),Ee=function S(M,N,z){if(!S._){S._={getters:{},setters:{},sw:{}};const qe=["i","c","C","p","P","s","f","d","v()"];Q&&qe.push("j"),qe.forEach(function(Ae){S._.getters[Ae]=G(Ae),S._.setters[Ae]=R(Ae),S._.sw[Ae]=p(Ae)});const Kn=/^[ipPsjfdcC]$/,Jn=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;S.sigCheck=function(Ae,$n,Lt,ct){Object.prototype.hasOwnProperty.call(Ae,Lt)&&r(Ae.structName,"already has a property named",Lt+"."),Kn.test(ct)||Jn.test(ct)||r("Malformed signature for",y(Ae.structName,$n)+":",ct)}}const oe=M.memberKey(N);S.sigCheck(M.prototype,N,oe,z.signature),z.key=oe,z.name=N;const ce=P(z.signature),le=y(M.prototype.structName,oe),ue=M.prototype.debugFlags.__flags,ze=Object.create(null);ze.configurable=!1,ze.enumerable=!1,ze.get=function(){ue.getter&&A("debug.getter:",S._.getters[ce],"for",O(ce),le,"@",this.pointer,"+",z.offset,"sz",z.sizeof);let qe=new DataView(l().buffer,this.pointer+z.offset,z.sizeof)[S._.getters[ce]](0,b);return ue.getter&&A("debug.getter:",le,"result =",qe),qe},z.readOnly?ze.set=E(M.prototype.structName,oe):ze.set=function(qe){if(ue.setter&&A("debug.setter:",S._.setters[ce],"for",O(ce),le,"@",this.pointer,"+",z.offset,"sz",z.sizeof,qe),this.pointer||r("Cannot set struct property on disposed instance."),qe===null)qe=0;else for(;!W(qe);){if(k(z.signature)&&qe instanceof ne){qe=qe.pointer||0,ue.setter&&A("debug.setter:",le,"resolved to",qe);break}r("Invalid value for pointer-type",le+".")}new DataView(l().buffer,this.pointer+z.offset,z.sizeof)[S._.setters[ce]](0,S._.sw[ce](qe),b)},Object.defineProperty(M.prototype,oe,ze)},me=function S(M,N){arguments.length===1?(N=M,M=N.name):N.name||(N.name=M),M||r("Struct name is required.");let z=!1;Object.keys(N.members).forEach(le=>{const ue=N.members[le];ue.sizeof?ue.sizeof===1?ue.signature==="c"||ue.signature==="C"||r("Unexpected sizeof==1 member",y(N.name,le),"with signature",ue.signature):(ue.sizeof%4!==0&&(console.warn("Invalid struct member description =",ue,"from",N),r(M,"member",le,"sizeof is not aligned. sizeof="+ue.sizeof)),ue.offset%4!==0&&(console.warn("Invalid struct member description =",ue,"from",N),r(M,"member",le,"offset is not aligned. offset="+ue.offset))):r(M,"member",le,"is missing sizeof."),(!z||z.offset<ue.offset)&&(z=ue)}),z?N.sizeof<z.offset+z.sizeof&&r("Invalid struct config:",M,"max member offset ("+z.offset+") ","extends past end of struct (sizeof="+N.sizeof+")."):r("No member property descriptions found.");const oe=c(i.__makeDebugFlags(S.debugFlags)),ce=function le(ue){this instanceof le?arguments.length?((ue!==(ue|0)||ue<=0)&&r("Invalid pointer value for",M,"constructor."),u(le,this,ue)):u(le,this):r("The",M,"constructor may only be called via 'new'.")};return Object.defineProperties(ce,{debugFlags:oe,isA:c(le=>le instanceof ce),memberKey:V,memberKeys:J,methodInfoForKey:c(function(le){}),structInfo:c(N),structName:c(M)}),ce.prototype=new ne(M,N,c),Object.defineProperties(ce.prototype,{debugFlags:oe,constructor:c(ce)}),Object.keys(N.members).forEach(le=>Ee(ce,le,N.members[le])),ce};return me.StructType=ne,me.config=s,me.allocCString=j,me.debugFlags||(me.debugFlags=i.__makeDebugFlags(i.debugFlags)),me},globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=(...v)=>{throw new Error(v.join(" "))};e.SQLite3Error.toss;const r=e.capi,i=e.wasm,l=e.util;if(globalThis.WhWasmUtilInstaller(i),delete globalThis.WhWasmUtilInstaller,i.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(v,_)=>v[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:v=>v[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new i.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:v=>{let _;return(f,q,b,g)=>{try{const k=i.cArgvToJs(q,b);return _||(_=i.cArgvToJs(q,g)),v(k,_)|0}catch(k){return k.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(v,_)=>v[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:v=>v[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(v,_)=>v[0],callProxy:v=>(_,f,q,b,g,k)=>{try{return q=q&&i.cstrToJs(q),b=b&&i.cstrToJs(b),g=g&&i.cstrToJs(g),k=k&&i.cstrToJs(k),v(_,f,q,b,g,k)||0}catch(P){return P.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new i.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(v,_)=>v[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(v,_)=>v[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],i.exports.sqlite3_activate_see instanceof Function&&i.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),i.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:v=>v[0],callProxy:v=>(_,f,q,b,g,k,P)=>{v(_,f,q,i.cstrToJs(b),i.cstrToJs(g),k,P)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:v=>v[0],callProxy:v=>(_,f,q,b,g)=>{v(_,f,i.cstrToJs(q),i.cstrToJs(b),g)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],i.bigIntEnabled&&i.exports.sqlite3changegroup_add){const v={signature:"i(ps)",callProxy:_=>(f,q)=>{try{return _(f,i.cstrToJs(q))|0}catch(b){return b.resultCode||r.SQLITE_ERROR}}};i.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...v}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...v}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...v}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...v}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xFilter",...v,contextKey:(_,f)=>_[0]}),"*"]])}i.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],e.StructBinder=globalThis.Jaccwabyt({heap:i.heap8u,alloc:i.alloc,dealloc:i.dealloc,bigIntEnabled:i.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const v=i.xWrap.argAdapter("string");i.xWrap.argAdapter("string:flexible",g=>v(l.flexibleString(g))),i.xWrap.argAdapter("string:static",(function(g){return i.isPtr(g)?g:(g=""+g,this[g]||(this[g]=i.allocCString(g)))}).bind(Object.create(null)));const _=i.xWrap.argAdapter("*"),f=function(){};i.xWrap.argAdapter("sqlite3_filename",_)("sqlite3_context*",_)("sqlite3_value*",_)("void*",_)("sqlite3_changegroup*",_)("sqlite3_changeset_iter*",_)("sqlite3_session*",_)("sqlite3_stmt*",g=>{var k;return _(g instanceof(((k=e==null?void 0:e.oo1)==null?void 0:k.Stmt)||f)?g.pointer:g)})("sqlite3*",g=>{var k;return _(g instanceof(((k=e==null?void 0:e.oo1)==null?void 0:k.DB)||f)?g.pointer:g)})("sqlite3_index_info*",g=>_(g instanceof(r.sqlite3_index_info||f)?g.pointer:g))("sqlite3_module*",g=>_(g instanceof(r.sqlite3_module||f)?g.pointer:g))("sqlite3_vfs*",g=>typeof g=="string"?r.sqlite3_vfs_find(g)||e.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",g):_(g instanceof(r.sqlite3_vfs||f)?g.pointer:g));const q=i.xWrap.resultAdapter("*");i.xWrap.resultAdapter("sqlite3*",q)("sqlite3_context*",q)("sqlite3_stmt*",q)("sqlite3_value*",q)("sqlite3_vfs*",q)("void*",q);for(const g of i.bindingSignatures)r[g[0]]=i.xWrap.apply(null,g);for(const g of i.bindingSignatures.wasm)i[g[0]]=i.xWrap.apply(null,g);const b=function(g){return()=>s(g+"() is unavailable due to lack","of BigInt support in this build.")};for(const g of i.bindingSignatures.int64)r[g[0]]=i.bigIntEnabled?i.xWrap.apply(null,g):b(g[0]);if(delete i.bindingSignatures,i.exports.sqlite3_wasm_db_error){const g=i.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");l.sqlite3_wasm_db_error=function(k,P,O){return P instanceof e.WasmAllocError?(P=r.SQLITE_NOMEM,O=0):P instanceof Error&&(O=O||""+P,P=P.resultCode||r.SQLITE_ERROR),k?g(k,P,O):P}}else l.sqlite3_wasm_db_error=function(g,k,P){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),k}}{const v=i.xCall("sqlite3_wasm_enum_json");v||s("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),i.ctype=JSON.parse(i.cstrToJs(v));const _=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];i.bigIntEnabled&&_.push("serialize","session","vtab");for(const b of _)for(const g of Object.entries(i.ctype[b]))r[g[0]]=g[1];i.functionEntry(r.SQLITE_WASM_DEALLOC)||s("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const f=Object.create(null);for(const b of["resultCodes"])for(const g of Object.entries(i.ctype[b]))f[g[1]]=g[0];r.sqlite3_js_rc_str=b=>f[b];const q=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!l.isUIThread(),sqlite3_index_info:!i.bigIntEnabled,sqlite3_index_constraint:!i.bigIntEnabled,sqlite3_index_orderby:!i.bigIntEnabled,sqlite3_index_constraint_usage:!i.bigIntEnabled});for(const b of i.ctype.structs)q[b.name]||(r[b.name]=e.StructBinder(b));if(r.sqlite3_index_info){for(const b of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[b]=r[b],delete r[b];r.sqlite3_vtab_config=i.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const h=(v,_,f)=>e.util.sqlite3_wasm_db_error(v,r.SQLITE_MISUSE,_+"() requires "+f+" argument"+(f===1?"":"s")+"."),w=v=>l.sqlite3_wasm_db_error(v,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),A=v=>i.xWrap.argAdapter("sqlite3*")(v),C=v=>i.isPtr(v)?i.cstrToJs(v):v,B=(function(v,_){v=A(v);let f=this.dbMap.get(v);if(_)!f&&_>0&&this.dbMap.set(v,f=Object.create(null));else return this.dbMap.delete(v),f;return f}).bind(Object.assign(Object.create(null),{dbMap:new Map}));B.addCollation=function(v,_){const f=B(v,1);f.collation||(f.collation=new Set),f.collation.add(C(_).toLowerCase())},B._addUDF=function(v,_,f,q){_=C(_).toLowerCase();let b=q.get(_);b||q.set(_,b=new Set),b.add(f<0?-1:f)},B.addFunction=function(v,_,f){const q=B(v,1);q.udf||(q.udf=new Map),this._addUDF(v,_,f,q.udf)},B.addWindowFunc=function(v,_,f){const q=B(v,1);q.wudf||(q.wudf=new Map),this._addUDF(v,_,f,q.wudf)},B.cleanup=function(v){v=A(v);const _=[v];for(const b of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const g=i.exports[b];_.length=g.length;try{r[b](..._)}catch(k){console.warn("close-time call of",b+"(",_,") threw:",k)}}const f=B(v,0);if(!f)return;if(f.collation){for(const b of f.collation)try{r.sqlite3_create_collation_v2(v,b,r.SQLITE_UTF8,0,0,0)}catch{}delete f.collation}let q;for(q=0;q<2;++q){const b=q?f.wudf:f.udf;if(!b)continue;const g=q?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const k of b){const P=k[0],O=k[1],F=[v,P,0,r.SQLITE_UTF8,0,0,0,0,0];q&&F.push(0);for(const G of O)try{F[2]=G,g.apply(null,F)}catch{}O.clear()}b.clear()}delete f.udf,delete f.wudf};{const v=i.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(_){if(arguments.length!==1)return h(_,"sqlite3_close_v2",1);if(_)try{B.cleanup(_)}catch{}return v(_)}}if(r.sqlite3session_table_filter){const v=i.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(_){if(arguments.length!==1)return h(pDb,"sqlite3session_delete",1);_&&r.sqlite3session_table_filter(_,0,0),v(_)}}{const v=(f,q)=>"argv["+q+"]:"+f[0]+":"+i.cstrToJs(f[1]).toLowerCase(),_=i.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new i.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:v}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:v})]);r.sqlite3_create_collation_v2=function(f,q,b,g,k,P){if(arguments.length!==6)return h(f,"sqlite3_create_collation_v2",6);if(!(b&15))b|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(b&15))return w(f);try{const O=_(f,q,b,g,k,P);return O===0&&k instanceof Function&&B.addCollation(f,q),O}catch(O){return l.sqlite3_wasm_db_error(f,O)}},r.sqlite3_create_collation=(f,q,b,g,k)=>arguments.length===5?r.sqlite3_create_collation_v2(f,q,b,g,k,0):h(f,"sqlite3_create_collation",5)}{const v=function(b,g){return b[0]+":"+(b[2]<0?-1:b[2])+":"+g+":"+i.cstrToJs(b[1]).toLowerCase()},_=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:v,callProxy:b=>(g,k,P)=>{try{b(g,...r.sqlite3_values_to_js(k,P))}catch(O){r.sqlite3_result_error_js(g,O)}}},xFinalAndValue:{signature:"v(p)",contextKey:v,callProxy:b=>g=>{try{r.sqlite3_result_js(g,b(g))}catch(k){r.sqlite3_result_error_js(g,k)}}},xFunc:{signature:"v(pip)",contextKey:v,callProxy:b=>(g,k,P)=>{try{r.sqlite3_result_js(g,b(g,...r.sqlite3_values_to_js(k,P)))}catch(O){r.sqlite3_result_error_js(g,O)}}},xDestroy:{signature:"v(p)",contextKey:v,callProxy:b=>g=>{try{b(g)}catch(k){console.error("UDF xDestroy method threw:",k)}}}}),f=i.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xFunc",..._.xFunc}),new i.xWrap.FuncPtrAdapter({name:"xStep",..._.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",..._.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",..._.xDestroy})]),q=i.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xStep",..._.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",..._.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xValue",..._.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xInverse",..._.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",..._.xDestroy})]);r.sqlite3_create_function_v2=function b(g,k,P,O,F,G,R,p,y){if(b.length!==arguments.length)return h(g,"sqlite3_create_function_v2",b.length);if(!(O&15))O|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(O&15))return w(g);try{const E=f(g,k,P,O,F,G,R,p,y);return E===0&&(G instanceof Function||R instanceof Function||p instanceof Function||y instanceof Function)&&B.addFunction(g,k,P),E}catch(E){return console.error("sqlite3_create_function_v2() setup threw:",E),l.sqlite3_wasm_db_error(g,E,"Creation of UDF threw: "+E)}},r.sqlite3_create_function=function b(g,k,P,O,F,G,R,p){return b.length===arguments.length?r.sqlite3_create_function_v2(g,k,P,O,F,G,R,p,0):h(g,"sqlite3_create_function",b.length)},r.sqlite3_create_window_function=function b(g,k,P,O,F,G,R,p,y,E){if(b.length!==arguments.length)return h(g,"sqlite3_create_window_function",b.length);if(!(O&15))O|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(O&15))return w(g);try{const m=q(g,k,P,O,F,G,R,p,y,E);return m===0&&(G instanceof Function||R instanceof Function||p instanceof Function||y instanceof Function||E instanceof Function)&&B.addWindowFunc(g,k,P),m}catch(m){return console.error("sqlite3_create_window_function() setup threw:",m),l.sqlite3_wasm_db_error(g,m,"Creation of UDF threw: "+m)}},r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{const v=(f,q)=>(typeof f=="string"?q=-1:l.isSQLableTypedArray(f)?(q=f.byteLength,f=l.typedArrayToString(f instanceof ArrayBuffer?new Uint8Array(f):f)):Array.isArray(f)&&(f=f.join(""),q=-1),[f,q]),_={basic:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function f(q,b,g,k,P,O){if(f.length!==arguments.length)return h(q,"sqlite3_prepare_v3",f.length);const[F,G]=v(b,g);switch(typeof F){case"string":return _.basic(q,F,G,k,P,null);case"number":return _.full(q,F,G,k,P,O);default:return l.sqlite3_wasm_db_error(q,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function f(q,b,g,k,P){return f.length===arguments.length?r.sqlite3_prepare_v3(q,b,g,0,k,P):h(q,"sqlite3_prepare_v2",f.length)}}{const v=i.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),_=i.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function f(q,b,g,k,P){if(f.length!==arguments.length)return h(r.sqlite3_db_handle(q),"sqlite3_bind_text",f.length);if(i.isPtr(g)||g===null)return v(q,b,g,k,P);g instanceof ArrayBuffer?g=new Uint8Array(g):Array.isArray(pMem)&&(g=pMem.join(""));let O,F;try{if(l.isSQLableTypedArray(g))O=i.allocFromTypedArray(g),F=g.byteLength;else if(typeof g=="string")[O,F]=i.allocCString(g);else return l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return v(q,b,O,F,r.SQLITE_WASM_DEALLOC)}catch(G){return i.dealloc(O),l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),G)}},r.sqlite3_bind_blob=function f(q,b,g,k,P){if(f.length!==arguments.length)return h(r.sqlite3_db_handle(q),"sqlite3_bind_blob",f.length);if(i.isPtr(g)||g===null)return _(q,b,g,k,P);g instanceof ArrayBuffer?g=new Uint8Array(g):Array.isArray(g)&&(g=g.join(""));let O,F;try{if(l.isBindableTypedArray(g))O=i.allocFromTypedArray(g),F=k>=0?k:g.byteLength;else if(typeof g=="string")[O,F]=i.allocCString(g);else return l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return _(q,b,O,F,r.SQLITE_WASM_DEALLOC)}catch(G){return i.dealloc(O),l.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),G)}}}r.sqlite3_config=function(v,..._){if(arguments.length<2)return r.SQLITE_MISUSE;switch(v){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return i.exports.sqlite3_wasm_config_i(v,_[0]);case r.SQLITE_CONFIG_LOOKASIDE:return i.exports.sqlite3_wasm_config_ii(v,_[0],_[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return i.exports.sqlite3_wasm_config_j(v,_[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const v=new Set;r.sqlite3_auto_extension=function(_){if(_ instanceof Function)_=i.installFunction("i(ppp)",_);else if(arguments.length!==1||!i.isPtr(_))return r.SQLITE_MISUSE;const f=i.exports.sqlite3_auto_extension(_);return _!==arguments[0]&&(f===0?v.add(_):i.uninstallFunction(_)),f},r.sqlite3_cancel_auto_extension=function(_){return!_||arguments.length!==1||!i.isPtr(_)?0:i.exports.sqlite3_cancel_auto_extension(_)},r.sqlite3_reset_auto_extension=function(){i.exports.sqlite3_reset_auto_extension();for(const _ of v)i.uninstallFunction(_);v.clear()}}const Q=r.sqlite3_vfs_find("kvvfs");if(Q)if(l.isUIThread()){const v=new r.sqlite3_kvvfs_methods(i.exports.sqlite3_wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const _=i.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,f=i.pstack,q=g=>i.peek(g)===115?sessionStorage:localStorage,b={xRead:(g,k,P,O)=>{const F=f.pointer,G=i.scopedAllocPush();try{const R=_(g,k);if(!R)return-3;const p=i.cstrToJs(R),y=q(g).getItem(p);if(!y)return-1;const E=y.length;if(O<=0)return E;if(O===1)return i.poke(P,0),E;const m=i.scopedAllocCString(y);return O>E+1&&(O=E+1),i.heap8u().copyWithin(P,m,m+O-1),i.poke(P+O-1,0),O-1}catch(R){return console.error("kvstorageRead()",R),-2}finally{f.restore(F),i.scopedAllocPop(G)}},xWrite:(g,k,P)=>{const O=f.pointer;try{const F=_(g,k);if(!F)return 1;const G=i.cstrToJs(F);return q(g).setItem(G,i.cstrToJs(P)),0}catch(F){return console.error("kvstorageWrite()",F),r.SQLITE_IOERR}finally{f.restore(O)}},xDelete:(g,k)=>{const P=f.pointer;try{const O=_(g,k);return O?(q(g).removeItem(i.cstrToJs(O)),0):1}catch(O){return console.error("kvstorageDelete()",O),r.SQLITE_IOERR}finally{f.restore(P)}}};for(const g of Object.keys(b))v[v.memberKey(g)]=i.installFunction(v.memberSignature(g),b[g])}else r.sqlite3_vfs_unregister(Q);i.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.version={libVersion:"3.42.0",libVersionNumber:3042e3,sourceId:"2023-05-16 12:36:15 831d0fb2836b71c9bc51067c49fee4b8f18047814f2ff22d817d25195cf350b0",downloadVersion:342e4}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=(...m)=>{throw new e.SQLite3Error(...m)},r=e.capi,i=e.wasm,l=e.util,h=new WeakMap,w=new WeakMap,A=(m,d,a)=>{const c=Object.getOwnPropertyDescriptor(m,d);return c?c.value:a},C=function(m,d){return d&&(m instanceof _&&(m=m.pointer),s("sqlite3 result code",d+":",m?r.sqlite3_errmsg(m):r.sqlite3_errstr(d))),arguments[0]},B=i.installFunction("i(ippp)",(function(m,d,a,c){r.SQLITE_TRACE_STMT===m&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+d+":",i.cstrToJs(c))}).bind({counter:0})),Q=Object.create(null),v=function m(...d){if(!m._name2vfs){m._name2vfs=Object.create(null);const J=typeof importScripts=="function"?re=>s("The VFS for",re,"is only available in the main window thread."):!1;m._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:J||(()=>"local")},m._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:J||(()=>"session")}}const a=m.normalizeArgs(...d);let c=a.filename,u=a.vfs,I=a.flags;(typeof c!="string"&&typeof c!="number"||typeof I!="string"||u&&typeof u!="string"&&typeof u!="number")&&(e.config.error("Invalid DB ctor args",a,arguments),s("Invalid arguments for DB constructor."));let T=typeof c=="number"?i.cstrToJs(c):c;const V=m._name2vfs[T];V&&(u=V.vfs,c=T=V.filename(T));let H,K=0;I.indexOf("c")>=0&&(K|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),I.indexOf("w")>=0&&(K|=r.SQLITE_OPEN_READWRITE),K===0&&(K|=r.SQLITE_OPEN_READONLY),K|=r.SQLITE_OPEN_EXRESCODE;const Y=i.pstack.pointer;try{const J=i.pstack.allocPtr();let re=r.sqlite3_open_v2(c,J,K,u||0);H=i.peekPtr(J),C(H,re),r.sqlite3_extended_result_codes(H,1),I.indexOf("t")>=0&&r.sqlite3_trace_v2(H,r.SQLITE_TRACE_STMT,B,H)}catch(J){throw H&&r.sqlite3_close_v2(H),J}finally{i.pstack.restore(Y)}this.filename=T,h.set(this,H),w.set(this,Object.create(null));try{const J=r.sqlite3_js_db_vfs(H);J||s("Internal error: cannot get VFS for new db handle.");const re=Q[J];re instanceof Function?re(this,e):re&&C(H,r.sqlite3_exec(H,re,0,0,0))}catch(J){throw this.close(),J}};v.setVfsPostOpenSql=function(m,d){Q[m]=d},v.normalizeArgs=function(m=":memory:",d="c",a=null){const c={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(c,arguments[0]),c.flags===void 0&&(c.flags="c"),c.vfs===void 0&&(c.vfs=null),c.filename===void 0&&(c.filename=":memory:")):(c.filename=m,c.flags=d,c.vfs=a),c};const _=function(...m){v.apply(this,m)};_.dbCtorHelper=v;const f={null:1,number:2,string:3,boolean:4,blob:5};f.undefined==f.null,i.bigIntEnabled&&(f.bigint=f.number);const q=function(){f!==arguments[2]&&s(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],h.set(this,arguments[1]),this.columnCount=r.sqlite3_column_count(this.pointer),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},b=function(m){return m.pointer||s("DB has been closed."),m},g=function(m,d){return(d!==(d|0)||d<0||d>=m.columnCount)&&s("Column index",d,"is out of range."),m},k=function(m,d){const a=Object.create(null);switch(a.opt=Object.create(null),d.length){case 1:typeof d[0]=="string"||l.isSQLableTypedArray(d[0])||Array.isArray(d[0])?a.sql=d[0]:d[0]&&typeof d[0]=="object"&&(a.opt=d[0],a.sql=a.opt.sql);break;case 2:a.sql=d[0],a.opt=d[1];break;default:s("Invalid argument count for exec().")}a.sql=l.flexibleString(a.sql),typeof a.sql!="string"&&s("Missing SQL argument or unsupported SQL value type.");const c=a.opt;switch(c.returnValue){case"resultRows":c.resultRows||(c.resultRows=[]),a.returnVal=()=>c.resultRows;break;case"saveSql":c.saveSql||(c.saveSql=[]),a.returnVal=()=>c.saveSql;break;case void 0:case"this":a.returnVal=()=>m;break;default:s("Invalid returnValue value:",c.returnValue)}if(!c.callback&&!c.returnValue&&c.rowMode!==void 0&&(c.resultRows||(c.resultRows=[]),a.returnVal=()=>c.resultRows),c.callback||c.resultRows)switch(c.rowMode===void 0?"array":c.rowMode){case"object":a.cbArg=u=>u.get(Object.create(null));break;case"array":a.cbArg=u=>u.get([]);break;case"stmt":Array.isArray(c.resultRows)&&s("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),a.cbArg=u=>u;break;default:if(l.isInt32(c.rowMode)){a.cbArg=u=>u.get(c.rowMode);break}else if(typeof c.rowMode=="string"&&c.rowMode.length>1&&c.rowMode[0]==="$"){const u=c.rowMode.substr(1);a.cbArg=I=>{const T=I.get(Object.create(null))[u];return T===void 0?s(r.SQLITE_NOTFOUND,"exec(): unknown result column:",u):T};break}s("Invalid rowMode:",c.rowMode)}return a},P=(m,d,a,...c)=>{const u=m.prepare(d);try{return u.bind(a).step()?u.get(...c):void 0}finally{u.finalize()}},O=(m,d,a,c)=>m.exec({sql:d,bind:a,rowMode:c,returnValue:"resultRows"});_.checkRc=(m,d)=>C(m,d),_.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return b(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const m=this.pointer;if(Object.keys(w.get(this)).forEach((d,a)=>{a&&a.pointer&&a.finalize()}),h.delete(this),w.delete(this),r.sqlite3_close_v2(m),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(m=!1,d=!1){const a=b(this).pointer;return m?d?r.sqlite3_total_changes64(a):r.sqlite3_total_changes(a):d?r.sqlite3_changes64(a):r.sqlite3_changes(a)},dbFilename:function(m="main"){return r.sqlite3_db_filename(b(this).pointer,m)},dbName:function(m=0){return r.sqlite3_db_name(b(this).pointer,m)},dbVfsName:function(m=0){let d;const a=r.sqlite3_js_db_vfs(b(this).pointer,m);if(a){const c=new r.sqlite3_vfs(a);try{d=i.cstrToJs(c.$zName)}finally{c.dispose()}}return d},prepare:function(m){b(this);const d=i.pstack.pointer;let a,c;try{a=i.pstack.alloc(8),_.checkRc(this,r.sqlite3_prepare_v2(this.pointer,m,-1,a,null)),c=i.peekPtr(a)}finally{i.pstack.restore(d)}c||s("Cannot prepare empty SQL.");const u=new q(this,c,f);return w.get(this)[c]=u,u},exec:function(){b(this);const m=k(this,arguments);if(!m.sql)return s("exec() requires an SQL string.");const d=m.opt,a=d.callback,c=Array.isArray(d.resultRows)?d.resultRows:void 0;let u,I=d.bind,T=!!(m.cbArg||d.columnNames||c);const V=i.scopedAllocPush(),H=Array.isArray(d.saveSql)?d.saveSql:void 0;try{const K=l.isSQLableTypedArray(m.sql);let Y=K?m.sql.byteLength:i.jstrlen(m.sql);const J=i.scopedAlloc(2*i.ptrSizeof+(Y+1)),re=J+i.ptrSizeof;let _e=re+i.ptrSizeof;const he=_e+Y;for(K?i.heap8().set(m.sql,_e):i.jstrcpy(m.sql,i.heap8(),_e,Y,!1),i.poke(_e+Y,0);_e&&i.peek(_e,"i8");){i.pokePtr([J,re],0),_.checkRc(this,r.sqlite3_prepare_v3(this.pointer,_e,Y,0,J,re));const Se=i.peekPtr(J);if(_e=i.peekPtr(re),Y=he-_e,!!Se){if(H&&H.push(r.sqlite3_sql(Se).trim()),u=new q(this,Se,f),I&&u.parameterCount&&(u.bind(I),I=null),T&&u.columnCount){if(T=!1,Array.isArray(d.columnNames)&&u.getColumnNames(d.columnNames),m.cbArg||c){for(;u.step();u._isLocked=!1){u._isLocked=!0;const x=m.cbArg(u);if(c&&c.push(x),a&&a.call(d,x,u)===!1)break}u._isLocked=!1}}else u.step();u.finalize(),u=null}}}finally{u&&(delete u._isLocked,u.finalize()),i.scopedAllocPop(V)}return m.returnVal()},createFunction:function(d,a,c){const u=L=>L instanceof Function;switch(arguments.length){case 1:c=d,d=c.name,a=c.xFunc||0;break;case 2:u(a)||(c=a,a=c.xFunc||0);break}c||(c={}),typeof d!="string"&&s("Invalid arguments: missing function name.");let I=c.xStep||0,T=c.xFinal||0;const V=c.xValue||0,H=c.xInverse||0;let K;u(a)?(K=!1,(u(I)||u(T))&&s("Ambiguous arguments: scalar or aggregate?"),I=T=null):u(I)?(u(T)||s("Missing xFinal() callback for aggregate or window UDF."),a=null):u(T)?s("Missing xStep() callback for aggregate or window UDF."):s("Missing function-type properties."),K===!1?(u(V)||u(H))&&s("xValue and xInverse are not permitted for non-window UDFs."):u(V)?(u(H)||s("xInverse must be provided if xValue is."),K=!0):u(H)&&s("xValue must be provided if xInverse is.");const Y=c.pApp;Y!=null&&(typeof Y!="number"||!l.isInt32(Y))&&s("Invalid value for pApp property. Must be a legal WASM pointer value.");const J=c.xDestroy||0;J&&!u(J)&&s("xDestroy property must be a function.");let re=0;A(c,"deterministic")&&(re|=r.SQLITE_DETERMINISTIC),A(c,"directOnly")&&(re|=r.SQLITE_DIRECTONLY),A(c,"innocuous")&&(re|=r.SQLITE_INNOCUOUS),d=d.toLowerCase();const _e=a||I,he=A(c,"arity"),Se=typeof he=="number"?he:_e.length?_e.length-1:0;let x;return K?x=r.sqlite3_create_window_function(this.pointer,d,Se,r.SQLITE_UTF8|re,Y||0,I,T,V,H,J):x=r.sqlite3_create_function_v2(this.pointer,d,Se,r.SQLITE_UTF8|re,Y||0,a,I,T,J),_.checkRc(this,x),this},selectValue:function(m,d,a){return P(this,m,d,0,a)},selectValues:function(m,d,a){const c=this.prepare(m),u=[];try{for(c.bind(d);c.step();)u.push(c.get(0,a))}finally{c.finalize()}return u},selectArray:function(m,d){return P(this,m,d,[])},selectObject:function(m,d){return P(this,m,d,{})},selectArrays:function(m,d){return O(this,m,d,"array")},selectObjects:function(m,d){return O(this,m,d,"object")},openStatementCount:function(){return this.pointer?Object.keys(w.get(this)).length:0},transaction:function(m){let d="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&s(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),d+=" "+arguments[0],m=arguments[1]),b(this).exec(d);try{const a=m(this);return this.exec("COMMIT"),a}catch(a){throw this.exec("ROLLBACK"),a}},savepoint:function(m){b(this).exec("SAVEPOINT oo1");try{const d=m(this);return this.exec("RELEASE oo1"),d}catch(d){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),d}},checkRc:function(m){return _.checkRc(this,m)}};const F=function(m){return m.pointer||s("Stmt has been closed."),m},G=function(m){let d=f[m==null?"null":typeof m];switch(d){case f.boolean:case f.null:case f.number:case f.string:return d;case f.bigint:if(i.bigIntEnabled)return d;default:return l.isBindableTypedArray(m)?f.blob:void 0}},R=function(m){return G(m)||s("Unsupported bind() argument type:",typeof m)},p=function(m,d){const a=typeof d=="number"?d:r.sqlite3_bind_parameter_index(m.pointer,d);return a===0||!l.isInt32(a)?s("Invalid bind() parameter name: "+d):(a<1||a>m.parameterCount)&&s("Bind index",d,"is out of range."),a},y=function(m,d){return m._isLocked&&s("Operation is illegal when statement is locked:",d),m},E=function m(d,a,c,u){y(F(d),"bind()"),m._||(m._tooBigInt=T=>s("BigInt value is too big to store without precision loss:",T),m._={string:function(T,V,H,K){const[Y,J]=i.allocCString(H,!0);return(K?r.sqlite3_bind_blob:r.sqlite3_bind_text)(T.pointer,V,Y,J,r.SQLITE_WASM_DEALLOC)}}),R(u),a=p(d,a);let I=0;switch(u==null?f.null:c){case f.null:I=r.sqlite3_bind_null(d.pointer,a);break;case f.string:I=m._.string(d,a,u,!1);break;case f.number:{let T;l.isInt32(u)?T=r.sqlite3_bind_int:typeof u=="bigint"?l.bigIntFits64(u)?i.bigIntEnabled?T=r.sqlite3_bind_int64:l.bigIntFitsDouble(u)?(u=Number(u),T=r.sqlite3_bind_double):m._tooBigInt(u):m._tooBigInt(u):(u=Number(u),i.bigIntEnabled&&Number.isInteger(u)?T=r.sqlite3_bind_int64:T=r.sqlite3_bind_double),I=T(d.pointer,a,u);break}case f.boolean:I=r.sqlite3_bind_int(d.pointer,a,u?1:0);break;case f.blob:{if(typeof u=="string"){I=m._.string(d,a,u,!0);break}else u instanceof ArrayBuffer?u=new Uint8Array(u):l.isBindableTypedArray(u)||s("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const T=i.alloc(u.byteLength||1);i.heap8().set(u.byteLength?u:[0],T),I=r.sqlite3_bind_blob(d.pointer,a,T,u.byteLength,r.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",u),s("Unsupported bind() argument type: "+typeof u)}return I&&_.checkRc(d.db.pointer,I),d._mayGet=!1,d};q.prototype={finalize:function(){this.pointer&&(y(this,"finalize()"),delete w.get(this.db)[this.pointer],r.sqlite3_finalize(this.pointer),h.delete(this),delete this._mayGet,delete this.columnCount,delete this.parameterCount,delete this.db,delete this._isLocked)},clearBindings:function(){return y(F(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(m){return y(this,"reset()"),m&&this.clearBindings(),r.sqlite3_reset(F(this).pointer),this._mayGet=!1,this},bind:function(){F(this);let m,d;switch(arguments.length){case 1:m=1,d=arguments[0];break;case 2:m=arguments[0],d=arguments[1];break;default:s("Invalid bind() arguments.")}return d===void 0?this:(this.parameterCount||s("This statement has no bindable parameters."),this._mayGet=!1,d===null?E(this,m,f.null,d):Array.isArray(d)?(arguments.length!==1&&s("When binding an array, an index argument is not permitted."),d.forEach((a,c)=>E(this,c+1,R(a),a)),this):(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),typeof d=="object"&&!l.isBindableTypedArray(d)?(arguments.length!==1&&s("When binding an object, an index argument is not permitted."),Object.keys(d).forEach(a=>E(this,a,R(d[a]),d[a])),this):E(this,m,R(d),d)))},bindAsBlob:function(m,d){F(this),arguments.length===1&&(d=m,m=1);const a=R(d);return f.string!==a&&f.blob!==a&&f.null!==a&&s("Invalid value type for bindAsBlob()"),E(this,m,f.blob,d)},step:function(){y(this,"step()");const m=r.sqlite3_step(F(this).pointer);switch(m){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn("sqlite3_step() rc=",m,r.sqlite3_js_rc_str(m),"SQL =",r.sqlite3_sql(this.pointer)),_.checkRc(this.db.pointer,m)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){const m=this.step();return this.finalize(),m},get:function(m,d){if(F(this)._mayGet||s("Stmt.step() has not (recently) returned true."),Array.isArray(m)){let a=0;for(;a<this.columnCount;)m[a]=this.get(a++);return m}else if(m&&typeof m=="object"){let a=0;for(;a<this.columnCount;)m[r.sqlite3_column_name(this.pointer,a)]=this.get(a++);return m}switch(g(this,m),d===void 0?r.sqlite3_column_type(this.pointer,m):d){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(i.bigIntEnabled){const a=r.sqlite3_column_int64(this.pointer,m);return a>=Number.MIN_SAFE_INTEGER&&a<=Number.MAX_SAFE_INTEGER?Number(a).valueOf():a}else{const a=r.sqlite3_column_double(this.pointer,m);return(a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)&&s("Integer is out of range for JS integer range: "+a),l.isInt32(a)?a|0:a}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,m);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,m);case r.SQLITE_BLOB:{const a=r.sqlite3_column_bytes(this.pointer,m),c=r.sqlite3_column_blob(this.pointer,m),u=new Uint8Array(a);return a&&u.set(i.heap8u().slice(c,c+a),0),a&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(u.buffer),u}default:s("Don't know how to translate","type of result column #"+m+".")}s("Not reached.")},getInt:function(m){return this.get(m,r.SQLITE_INTEGER)},getFloat:function(m){return this.get(m,r.SQLITE_FLOAT)},getString:function(m){return this.get(m,r.SQLITE_TEXT)},getBlob:function(m){return this.get(m,r.SQLITE_BLOB)},getJSON:function(m){const d=this.get(m,r.SQLITE_STRING);return d===null?d:JSON.parse(d)},getColumnName:function(m){return r.sqlite3_column_name(g(F(this),m).pointer,m)},getColumnNames:function(m=[]){g(F(this),0);for(let d=0;d<this.columnCount;++d)m.push(r.sqlite3_column_name(this.pointer,d));return m},getParamIndex:function(m){return F(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,m):void 0}};{const m={enumerable:!0,get:function(){return h.get(this)},set:()=>s("The pointer property is read-only.")};Object.defineProperty(q.prototype,"pointer",m),Object.defineProperty(_.prototype,"pointer",m)}if(e.oo1={DB:_,Stmt:q},l.isUIThread()){e.oo1.JsStorageDb=function(d="session"){d!=="session"&&d!=="local"&&s("JsStorageDb db name must be one of 'session' or 'local'."),v.call(this,{filename:d,flags:"c",vfs:"kvvfs"})};const m=e.oo1.JsStorageDb;m.prototype=Object.create(_.prototype),m.clearStorage=r.sqlite3_js_kvvfs_clear,m.prototype.clearStorage=function(){return m.clearStorage(b(this).filename)},m.storageSize=r.sqlite3_js_kvvfs_size,m.prototype.storageSize=function(){return m.storageSize(b(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.initWorker1API=(function(){const s=(..._)=>{throw new Error(_.join(" "))};globalThis.WorkerGlobalScope instanceof Function||s("initWorker1API() must be run from a Worker thread."),this.self;const r=this.sqlite3||s("Missing this.sqlite3 object."),i=r.oo1.DB,l=function(_){let f=h.idMap.get(_);return f||(f="db#"+ ++h.idSeq+"@"+_.pointer,h.idMap.set(_,f),f)},h={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(_){const f=new i(_);return this.dbs[l(f)]=f,this.dbList.indexOf(f)<0&&this.dbList.push(f),f},close:function(_,f){if(_){delete this.dbs[l(_)];const q=_.filename,b=r.wasm.sqlite3_wasm_db_vfs(_.pointer,0);_.close();const g=this.dbList.indexOf(_);g>=0&&this.dbList.splice(g,1),f&&q&&b&&r.wasm.sqlite3_wasm_vfs_unlink(b,q)}},post:function(_,f){f&&f.length?(globalThis.postMessage(_,Array.from(f)),f.length=0):globalThis.postMessage(_)},dbs:Object.create(null),getDb:function(_,f=!0){return this.dbs[_]||(f?s("Unknown (or closed) DB ID:",_):void 0)}},w=function(_=h.dbList[0]){return _&&_.pointer?_:s("DB is not opened.")},A=function(_,f=!0){const q=h.getDb(_.dbId,!1)||h.dbList[0];return f?w(q):q},C=function(){return h.dbList[0]&&l(h.dbList[0])},B=function(_){const f=/^file:.+(vfs=(\w+))/.exec(_);return r.capi.sqlite3_vfs_find(f?f[2]:0)},Q=_=>_===""||_[0]===":",v={open:function(_){const f=Object.create(null),q=_.args||Object.create(null);q.simulateError&&s("Throwing because of simulateError flag.");const b=Object.create(null);let g,k;if(f.vfs=q.vfs,Q(q.filename)?f.filename=q.filename||"":(f.filename=q.filename,g=q.byteArray,g&&(k=B(q.filename))),k){let O;try{O=r.wasm.allocFromTypedArray(g);const F=r.wasm.sqlite3_wasm_vfs_create_file(k,f.filename,O,g.byteLength);F&&r.SQLite3Error.toss(F)}catch(F){throw new r.SQLite3Error(F.name+" creating "+q.filename+": "+F.message,{cause:F})}finally{O&&r.wasm.dealloc(O)}}const P=h.open(f);return b.filename=P.filename,b.persistent=!!r.capi.sqlite3_js_db_uses_vfs(P.pointer,"opfs"),b.dbId=l(P),b.vfs=P.dbVfsName(),b},close:function(_){const f=A(_,!1),q={filename:f&&f.filename};if(f){const b=_.args&&typeof _.args=="object"?!!_.args.unlink:!1;h.close(f,b)}return q},exec:function(_){const f=typeof _.args=="string"?{sql:_.args}:_.args||Object.create(null);f.rowMode==="stmt"?s("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):f.sql||s("'exec' requires input SQL.");const q=A(_);(f.callback||Array.isArray(f.resultRows))&&(q._blobXfer=h.xfer);const b=f.callback;let g=0;const k=!!f.columnNames;typeof b=="string"&&(k||(f.columnNames=[]),f.callback=function(P,O){h.post({type:b,columnNames:f.columnNames,rowNumber:++g,row:P},h.xfer)});try{q.exec(f),f.callback instanceof Function&&(f.callback=b,h.post({type:b,columnNames:f.columnNames,rowNumber:null,row:void 0}))}finally{delete q._blobXfer,f.callback&&(f.callback=b)}return f},"config-get":function(){const _=Object.create(null),f=r.config;return["bigIntEnabled"].forEach(function(q){Object.getOwnPropertyDescriptor(f,q)&&(_[q]=f[q])}),_.version=r.version,_.vfsList=r.capi.sqlite3_js_vfs_list(),_.opfsEnabled=!!r.opfs,_},export:function(_){const f=A(_),q={byteArray:r.capi.sqlite3_js_db_export(f.pointer),filename:f.filename,mimetype:"application/x-sqlite3"};return h.xfer.push(q.byteArray.buffer),q},toss:function(_){s("Testing worker exception")},"opfs-tree":async function(_){return r.opfs||s("OPFS support is unavailable."),await r.opfs.treeList()}};globalThis.onmessage=async function(_){_=_.data;let f,q=_.dbId,b=_.type;const g=performance.now();try{v.hasOwnProperty(b)&&v[b]instanceof Function?f=await v[b](_):s("Unknown db worker message type:",_.type)}catch(k){b="error",f={operation:_.type,message:k.message,errorClass:k.name,input:_},k.stack&&(f.stack=typeof k.stack=="string"?k.stack.split(/\n\s*/):k.stack)}q||(q=f.dbId||C()),h.post({type:b,dbId:q,messageId:_.messageId,workerReceivedTime:g,workerRespondTime:performance.now(),departureTime:_.departureTime,result:f},h.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}).bind({self,sqlite3:e})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=e.wasm,r=e.capi,i=e.util.toss3,l=Object.create(null),h=Object.create(null),w=e.StructBinder;e.vfs=l,e.vtab=h;const A=r.sqlite3_index_info;A.prototype.nthConstraint=function(_,f=!1){if(_<0||_>=this.$nConstraint)return!1;const q=this.$aConstraint+A.sqlite3_index_constraint.structInfo.sizeof*_;return f?q:new A.sqlite3_index_constraint(q)},A.prototype.nthConstraintUsage=function(_,f=!1){if(_<0||_>=this.$nConstraint)return!1;const q=this.$aConstraintUsage+A.sqlite3_index_constraint_usage.structInfo.sizeof*_;return f?q:new A.sqlite3_index_constraint_usage(q)},A.prototype.nthOrderBy=function(_,f=!1){if(_<0||_>=this.$nOrderBy)return!1;const q=this.$aOrderBy+A.sqlite3_index_orderby.structInfo.sizeof*_;return f?q:new A.sqlite3_index_orderby(q)};const C=function _(f,q,b,g=_.installMethodArgcCheck){if(f instanceof w.StructType?!(b instanceof Function)&&!s.isPtr(b)&&i("Usage errror: expecting a Function or WASM pointer to one."):i("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,G)=>_(f,F,G,g);_.argcProxy||(_.argcProxy=function(F,G,R,p){return function(...y){return R.length!==arguments.length&&i("Argument mismatch for",F.structInfo.name+"::"+G+": Native signature is:",p),R.apply(this,y)}},_.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,G)=>{if(typeof F=="number")try{s.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});const k=f.memberSignature(q);k.length<2&&i("Member",q,"does not have a function pointer signature:",k);const P=f.memberKey(q),O=g&&!s.isPtr(b)?_.argcProxy(f,P,b,k):b;if(s.isPtr(O))O&&!s.functionEntry(O)&&i("Pointer",O,"is not a WASM function table entry."),f[P]=O;else{const F=s.installFunction(O,f.memberSignature(q,!0));f[P]=F,(!f.ondispose||!f.ondispose.__removeFuncList)&&(f.addOnDispose("ondispose.__removeFuncList handler",_.removeFuncList),f.ondispose.__removeFuncList=[]),f.ondispose.__removeFuncList.push(P,F)}return(F,G)=>_(f,F,G,g)};C.installMethodArgcCheck=!1;const B=function(_,f,q=C.installMethodArgcCheck){const b=new Map;for(const g of Object.keys(f)){const k=f[g],P=b.get(k);if(P){const O=_.memberKey(g);_[O]=_[_.memberKey(P)]}else C(_,g,k,q),b.set(k,g)}return _};w.StructType.prototype.installMethod=function(f,q,b=C.installMethodArgcCheck){return arguments.length<3&&f&&typeof f=="object"?B(this,...arguments):C(this,...arguments)},w.StructType.prototype.installMethods=function(_,f=C.installMethodArgcCheck){return B(this,_,f)},r.sqlite3_vfs.prototype.registerVfs=function(_=!1){this instanceof e.capi.sqlite3_vfs||i("Expecting a sqlite3_vfs-type argument.");const f=r.sqlite3_vfs_register(this,_?1:0);return f&&i("sqlite3_vfs_register(",this,") failed with rc",f),this.pointer!==r.sqlite3_vfs_find(this.$zName)&&i("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},l.installVfs=function(_){let f=0;const q=["io","vfs"];for(const b of q){const g=_[b];g&&(++f,B(g.struct,g.methods,!!g.applyArgcCheck),b==="vfs"&&(!g.struct.$zName&&typeof g.name=="string"&&g.struct.addOnDispose(g.struct.$zName=s.allocCString(g.name)),g.struct.registerVfs(!!g.asDefault)))}return f||i("Misuse: installVfs() options object requires at least","one of:",q),this};const Q=function(_,f){return(function(q,b=!1){if(arguments.length===0&&(q=new f),q instanceof f)return this.set(q.pointer,q),q;s.isPtr(q)||e.SQLite3Error.toss("Invalid argument to",_+"()");let g=this.get(q);return b&&this.delete(q),g}).bind(new Map)},v=function(_,f){const q=Q(_,f);return Object.assign(Object.create(null),{StructType:f,create:b=>{const g=q();return s.pokePtr(b,g.pointer),g},get:b=>q(b),unget:b=>q(b,!0),dispose:b=>{const g=q(b,!0);g&&g.dispose()}})};h.xVtab=v("xVtab",r.sqlite3_vtab),h.xCursor=v("xCursor",r.sqlite3_vtab_cursor),h.xIndexInfo=_=>new r.sqlite3_index_info(_),h.xError=function _(f,q,b){if(_.errorReporter instanceof Function)try{_.errorReporter("sqlite3_module::"+f+"(): "+q.message)}catch{}let g;return q instanceof e.WasmAllocError?g=r.SQLITE_NOMEM:arguments.length>2?g=b:q instanceof e.SQLite3Error&&(g=q.resultCode),g||r.SQLITE_ERROR},h.xError.errorReporter=console.error.bind(console),h.xRowid=(_,f)=>s.poke(_,f,"i64"),h.setupModule=function(_){let f=!1;const q=this instanceof r.sqlite3_module?this:_.struct||(f=new r.sqlite3_module);try{const b=_.methods||i("Missing 'methods' object.");for(const g of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const k=g[0],P=g[1];b[k]===!0?b[k]=b[P]:b[P]===!0&&(b[P]=b[k])}if(_.catchExceptions){const g=function(O,F){return["xConnect","xCreate"].indexOf(O)>=0?function(G,R,p,y,E,m){try{return F(...arguments)||0}catch(d){return d instanceof e.WasmAllocError||(s.dealloc(s.peekPtr(m)),s.pokePtr(m,s.allocCString(d.message))),h.xError(O,d)}}:function(...G){try{return F(...G)||0}catch(R){return h.xError(O,R)}}},k=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],P=Object.create(null);for(const O of k){const F=b[O];if(F instanceof Function)O==="xConnect"&&b.xCreate===F?P[O]=b.xCreate:O==="xCreate"&&b.xConnect===F?P[O]=b.xConnect:P[O]=g(O,F);else continue}B(q,P,!1)}else B(q,b,!!_.applyArgcCheck);if(q.$iVersion===0){let g;typeof _.iVersion=="number"?g=_.iVersion:q.$xShadowName?g=3:q.$xSavePoint||q.$xRelease||q.$xRollbackTo?g=2:g=1,q.$iVersion=g}}catch(b){throw f&&f.dispose(),b}return q},r.sqlite3_module.prototype.setupModule=function(_){return h.setupModule.call(this,_)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){const s=function r(i){var w;if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((w=navigator==null?void 0:navigator.storage)!=null&&w.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));(!i||typeof i!="object")&&(i=Object.create(null));const l=new URL(globalThis.location.href).searchParams;return i.verbose===void 0&&(i.verbose=l.has("opfs-verbose")?+l.get("opfs-verbose")||2:1),i.sanityChecks===void 0&&(i.sanityChecks=l.has("opfs-sanity-check")),i.proxyUri===void 0&&(i.proxyUri=r.defaultProxyUri),typeof i.proxyUri=="function"&&(i.proxyUri=i.proxyUri()),new Promise(function(A,C){const B={0:e.config.error,1:e.config.warn,2:e.config.log},Q=(x,...L)=>{i.verbose>x&&B[x]("OPFS syncer:",...L)},v=(...x)=>Q(2,...x),_=(...x)=>Q(1,...x),f=(...x)=>Q(0,...x),q=e.util.toss,b=e.capi,g=e.wasm,k=b.sqlite3_vfs,P=b.sqlite3_file,O=b.sqlite3_io_methods,F=Object.create(null),G=()=>{var x;return globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((x=navigator==null?void 0:navigator.storage)==null?void 0:x.getDirectory)};F.metrics={dump:function(){let x,L=0,D=0,U=0;for(x in u.opIds){const j=I[x];L+=j.count,D+=j.time,U+=j.wait,j.avgTime=j.count&&j.time?j.time/j.count:0,j.avgWait=j.count&&j.wait?j.wait/j.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",I,`
Total of`,L,"op(s) for",D,"ms (incl. "+U+" ms of waiting on the async side)"),e.config.log("Serialization metrics:",I.s11n),d.postMessage({type:"opfs-async-metrics"})},reset:function(){let x;const L=U=>U.count=U.time=U.wait=0;for(x in u.opIds)L(I[x]=Object.create(null));let D=I.s11n=Object.create(null);D=D.serialize=Object.create(null),D.count=D.time=0,D=I.s11n.deserialize=Object.create(null),D.count=D.time=0}};const R=new k,p=new O;let y;const E=x=>(y=!0,R.dispose(),C(x)),m=x=>(y=!1,A(x)),d=new Worker(new URL(""+new URL("sqlite3-opfs-async-proxy-9f074d6f.js",self.location.href).href,self.location));setTimeout(()=>{y===void 0&&E(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),d._originalOnError=d.onerror,d.onerror=function(x){f("Error initializing OPFS asyncer:",x),E(new Error("Loading OPFS async Worker failed for unknown reasons."))};const a=b.sqlite3_vfs_find(null),c=a?new k(a):null;R.$iVersion=2,R.$szOsFile=b.sqlite3_file.structInfo.sizeof,R.$mxPathname=1024,R.$zName=g.allocCString("opfs"),R.$xDlOpen=R.$xDlError=R.$xDlSym=R.$xDlClose=null,R.ondispose=["$zName",R.$zName,"cleanup default VFS wrapper",()=>c?c.dispose():null,"cleanup opfsIoMethods",()=>p.dispose()];const u=Object.create(null);u.verbose=i.verbose,u.littleEndian=(()=>{const x=new ArrayBuffer(2);return new DataView(x).setInt16(0,256,!0),new Int16Array(x)[0]===256})(),u.asyncIdleWaitTime=150,u.asyncS11nExceptions=1,u.fileBufferSize=1024*64,u.sabS11nOffset=u.fileBufferSize,u.sabS11nSize=R.$mxPathname*2,u.sabIO=new SharedArrayBuffer(u.fileBufferSize+u.sabS11nSize),u.opIds=Object.create(null);const I=Object.create(null);{let x=0;u.opIds.whichOp=x++,u.opIds.rc=x++,u.opIds.xAccess=x++,u.opIds.xClose=x++,u.opIds.xDelete=x++,u.opIds.xDeleteNoWait=x++,u.opIds.xFileSize=x++,u.opIds.xLock=x++,u.opIds.xOpen=x++,u.opIds.xRead=x++,u.opIds.xSleep=x++,u.opIds.xSync=x++,u.opIds.xTruncate=x++,u.opIds.xUnlock=x++,u.opIds.xWrite=x++,u.opIds.mkdir=x++,u.opIds["opfs-async-metrics"]=x++,u.opIds["opfs-async-shutdown"]=x++,u.opIds.retry=x++,u.sabOP=new SharedArrayBuffer(x*4),F.metrics.reset()}u.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(x=>{(u.sq3Codes[x]=b[x])===void 0&&q("Maintenance required: not found:",x)}),u.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const T=(x,...L)=>{const D=u.opIds[x]||q("Invalid op ID:",x);u.s11n.serialize(...L),Atomics.store(u.sabOPView,u.opIds.rc,-1),Atomics.store(u.sabOPView,u.opIds.whichOp,D),Atomics.notify(u.sabOPView,u.opIds.whichOp);const U=performance.now();Atomics.wait(u.sabOPView,u.opIds.rc,-1);const j=Atomics.load(u.sabOPView,u.opIds.rc);if(I[x].wait+=performance.now()-U,j&&u.asyncS11nExceptions){const se=u.s11n.deserialize();se&&f(x+"() async error:",...se)}return j};F.debug={asyncShutdown:()=>{_("Shutting down OPFS async listener. The OPFS VFS will no longer work."),T("opfs-async-shutdown")},asyncRestart:()=>{_("Attempting to restart OPFS VFS async listener. Might work, might not."),d.postMessage({type:"opfs-async-restart"})}};const V=()=>{if(u.s11n)return u.s11n;const x=new TextDecoder,L=new TextEncoder("utf-8"),D=new Uint8Array(u.sabIO,u.sabS11nOffset,u.sabS11nSize),U=new DataView(u.sabIO,u.sabS11nOffset,u.sabS11nSize);u.s11n=Object.create(null);const j=Object.create(null);j.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},j.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},j.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},j.string={id:4};const se=W=>j[typeof W]||q("Maintenance required: this value type cannot be serialized.",W),ne=W=>{switch(W){case j.number.id:return j.number;case j.bigint.id:return j.bigint;case j.boolean.id:return j.boolean;case j.string.id:return j.string;default:q("Invalid type ID:",W)}};return u.s11n.deserialize=function(W=!1){++I.s11n.deserialize.count;const Ee=performance.now(),me=D[0],S=me?[]:null;if(me){const M=[];let N=1,z,oe,ce;for(z=0;z<me;++z,++N)M.push(ne(D[N]));for(z=0;z<me;++z){const le=M[z];le.getter?(ce=U[le.getter](N,u.littleEndian),N+=le.size):(oe=U.getInt32(N,u.littleEndian),N+=4,ce=x.decode(D.slice(N,N+oe)),N+=oe),S.push(ce)}}return W&&(D[0]=0),I.s11n.deserialize.time+=performance.now()-Ee,S},u.s11n.serialize=function(...W){const Ee=performance.now();if(++I.s11n.serialize.count,W.length){const me=[];let S=0,M=1;for(D[0]=W.length&255;S<W.length;++S,++M)me.push(se(W[S])),D[M]=me[S].id;for(S=0;S<W.length;++S){const N=me[S];if(N.setter)U[N.setter](M,W[S],u.littleEndian),M+=N.size;else{const z=L.encode(W[S]);U.setInt32(M,z.byteLength,u.littleEndian),M+=4,D.set(z,M),M+=z.byteLength}}}else D[0]=0;I.s11n.serialize.time+=performance.now()-Ee},u.s11n},H=function x(L=16){x._chars||(x._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",x._n=x._chars.length);const D=[];let U=0;for(;U<L;++U){const j=Math.random()*(x._n*64)%x._n|0;D[U]=x._chars[j]}return D.join("")},K=Object.create(null),Y=Object.create(null);Y.op=void 0,Y.start=void 0;const J=x=>{Y.start=performance.now(),Y.op=x,++I[x].count},re=()=>I[Y.op].time+=performance.now()-Y.start,_e={xCheckReservedLock:function(x,L){const D=K[x];return g.poke(L,D.lockType?1:0,"i32"),0},xClose:function(x){J("xClose");let L=0;const D=K[x];return D&&(delete K[x],L=T("xClose",x),D.sq3File&&D.sq3File.dispose()),re(),L},xDeviceCharacteristics:function(x){return b.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(x,L,D){return b.SQLITE_NOTFOUND},xFileSize:function(x,L){J("xFileSize");let D=T("xFileSize",x);if(D==0)try{const U=u.s11n.deserialize()[0];g.poke(L,U,"i64")}catch(U){f("Unexpected error reading xFileSize() result:",U),D=u.sq3Codes.SQLITE_IOERR}return re(),D},xLock:function(x,L){J("xLock");const D=K[x];let U=0;return D.lockType?D.lockType=L:(U=T("xLock",x,L),U===0&&(D.lockType=L)),re(),U},xRead:function(x,L,D,U){J("xRead");const j=K[x];let se;try{se=T("xRead",x,D,Number(U)),(se===0||b.SQLITE_IOERR_SHORT_READ===se)&&g.heap8u().set(j.sabView.subarray(0,D),L)}catch(ne){f("xRead(",arguments,") failed:",ne,j),se=b.SQLITE_IOERR_READ}return re(),se},xSync:function(x,L){J("xSync"),++I.xSync.count;const D=T("xSync",x,L);return re(),D},xTruncate:function(x,L){J("xTruncate");const D=T("xTruncate",x,Number(L));return re(),D},xUnlock:function(x,L){J("xUnlock");const D=K[x];let U=0;return b.SQLITE_LOCK_NONE===L&&D.lockType&&(U=T("xUnlock",x,L)),U===0&&(D.lockType=L),re(),U},xWrite:function(x,L,D,U){J("xWrite");const j=K[x];let se;try{j.sabView.set(g.heap8u().subarray(L,L+D)),se=T("xWrite",x,D,Number(U))}catch(ne){f("xWrite(",arguments,") failed:",ne,j),se=b.SQLITE_IOERR_WRITE}return re(),se}},he={xAccess:function(x,L,D,U){J("xAccess");const j=T("xAccess",g.cstrToJs(L));return g.poke(U,j?0:1,"i32"),re(),0},xCurrentTime:function(x,L){return g.poke(L,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(x,L){return g.poke(L,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(x,L,D){return J("xDelete"),T("xDelete",g.cstrToJs(L),D,!1),re(),0},xFullPathname:function(x,L,D,U){return g.cstrncpy(U,L,D)<D?0:b.SQLITE_CANTOPEN},xGetLastError:function(x,L,D){return _("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(L,D,U,j,se){J("xOpen");let ne=0;D===0?D=H():typeof D=="number"&&(b.sqlite3_uri_boolean(D,"opfs-unlock-asap",0)&&(ne|=u.opfsFlags.OPFS_UNLOCK_ASAP),D=g.cstrToJs(D));const W=Object.create(null);W.fid=U,W.filename=D,W.sab=new SharedArrayBuffer(u.fileBufferSize),W.flags=j;const Ee=T("xOpen",U,D,j,ne);return Ee||(W.readOnly&&g.poke(se,b.SQLITE_OPEN_READONLY,"i32"),K[U]=W,W.sabView=u.sabFileBufView,W.sq3File=new P(U),W.sq3File.$pMethods=p.pointer,W.lockType=b.SQLITE_LOCK_NONE),re(),Ee}};if(c&&(R.$xRandomness=c.$xRandomness,R.$xSleep=c.$xSleep),R.$xRandomness||(he.xRandomness=function(x,L,D){const U=g.heap8u();let j=0;for(;j<L;++j)U[D+j]=Math.random()*255e3&255;return j}),R.$xSleep||(he.xSleep=function(x,L){return Atomics.wait(u.sabOPView,u.opIds.xSleep,0,L),0}),F.getResolvedPath=function(x,L){const D=new URL(x,"file://irrelevant").pathname;return L?D.split("/").filter(U=>!!U):D},F.getDirForFilename=async function(L,D=!1){const U=F.getResolvedPath(L,!0),j=U.pop();let se=F.rootDirectory;for(const ne of U)ne&&(se=await se.getDirectoryHandle(ne,{create:!!D}));return[se,j]},F.mkdir=async function(x){try{return await F.getDirForFilename(x+"/filepart",!0),!0}catch{return!1}},F.entryExists=async function(x){try{const[L,D]=await F.getDirForFilename(x);return await L.getFileHandle(D),!0}catch{return!1}},F.randomFilename=H,F.registerVfs=(x=!1)=>g.exports.sqlite3_vfs_register(R.pointer,x?1:0),F.treeList=async function(){const x=async function D(U,j){j.name=U.name,j.dirs=[],j.files=[];for await(const se of U.values())if(se.kind==="directory"){const ne=Object.create(null);j.dirs.push(ne),await D(se,ne)}else j.files.push(se.name)},L=Object.create(null);return await x(F.rootDirectory,L),L},F.rmfr=async function(){const x=F.rootDirectory,L={recurse:!0};for await(const D of x.values())x.removeEntry(D.name,L)},F.unlink=async function(x,L=!1,D=!1){try{const[U,j]=await F.getDirForFilename(x,!1);return await U.removeEntry(j,{recursive:L}),!0}catch(U){if(D)throw new Error("unlink(",arguments[0],") failed: "+U.message,{cause:U});return!1}},F.traverse=async function(x){const L={recursive:!0,directory:F.rootDirectory};typeof x=="function"&&(x={callback:x}),x=Object.assign(L,x||{}),async function U(j,se){for await(const ne of j.values()){if(x.callback(ne,j,se)===!1)return!1;if(x.recursive&&ne.kind==="directory"&&await U(ne,se+1)===!1)break}}(x.directory,0)},e.oo1){const x=function(...L){const D=e.oo1.DB.dbCtorHelper.normalizeArgs(...L);D.vfs=R.$zName,e.oo1.DB.dbCtorHelper.call(this,D)};x.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=x,e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(R.pointer,function(L,D){D.capi.sqlite3_busy_timeout(L,1e4),D.capi.sqlite3_exec(L,["pragma journal_mode=persist;","pragma cache_size=-16384;"],0,0,0)})}const Se=function(){const x=g.scopedAllocPush(),L=new P;try{const D=L.pointer,U=b.SQLITE_OPEN_CREATE|b.SQLITE_OPEN_READWRITE|b.SQLITE_OPEN_MAIN_DB,j=g.scopedAlloc(8),se="/sanity/check/file"+H(8),ne=g.scopedAllocCString(se);let W;if(u.s11n.serialize("This is  string."),W=u.s11n.deserialize(),v("deserialize() says:",W),W[0]!=="This is  string."&&q("String d13n error."),he.xAccess(R.pointer,ne,0,j),W=g.peek(j,"i32"),v("xAccess(",se,") exists ?=",W),W=he.xOpen(R.pointer,ne,D,U,j),v("open rc =",W,"state.sabOPView[xOpen] =",u.sabOPView[u.opIds.xOpen]),W!==0){f("open failed with code",W);return}he.xAccess(R.pointer,ne,0,j),W=g.peek(j,"i32"),W||q("xAccess() failed to detect file."),W=_e.xSync(L.pointer,0),W&&q("sync failed w/ rc",W),W=_e.xTruncate(L.pointer,1024),W&&q("truncate failed w/ rc",W),g.poke(j,0,"i64"),W=_e.xFileSize(L.pointer,j),W&&q("xFileSize failed w/ rc",W),v("xFileSize says:",g.peek(j,"i64")),W=_e.xWrite(L.pointer,ne,10,1),W&&q("xWrite() failed!");const Ee=g.scopedAlloc(16);W=_e.xRead(L.pointer,Ee,6,2),g.poke(Ee+6,0);let me=g.cstrToJs(Ee);v("xRead() got:",me),me!=="sanity"&&q("Unexpected xRead() value."),he.xSleep&&(v("xSleep()ing before close()ing..."),he.xSleep(R.pointer,2e3),v("waking up from xSleep()")),W=_e.xClose(D),v("xClose rc =",W,"sabOPView =",u.sabOPView),v("Deleting file:",se),he.xDelete(R.pointer,ne,4660),he.xAccess(R.pointer,ne,0,j),W=g.peek(j,"i32"),W&&q("Expecting 0 from xAccess(",se,") after xDelete()."),_("End of OPFS sanity checks.")}finally{L.dispose(),g.scopedAllocPop(x)}};d.onmessage=function({data:x}){switch(x.type){case"opfs-unavailable":E(new Error(x.payload.join(" ")));break;case"opfs-async-loaded":d.postMessage({type:"opfs-async-init",args:u});break;case"opfs-async-inited":{if(y===!0)break;try{e.vfs.installVfs({io:{struct:p,methods:_e},vfs:{struct:R,methods:he}}),u.sabOPView=new Int32Array(u.sabOP),u.sabFileBufView=new Uint8Array(u.sabIO,0,u.fileBufferSize),u.sabS11nView=new Uint8Array(u.sabIO,u.sabS11nOffset,u.sabS11nSize),V(),i.sanityChecks&&(_("Running sanity checks because of opfs-sanity-check URL arg..."),Se()),G()?navigator.storage.getDirectory().then(L=>{d.onerror=d._originalOnError,delete d._originalOnError,e.opfs=F,F.rootDirectory=L,v("End of OPFS sqlite3_vfs setup.",R),m(e)}).catch(E):m(e)}catch(L){f(L),E(L)}break}default:{const L="Unexpected message from the OPFS async worker: "+JSON.stringify(x);f(L),E(new Error(L));break}}}})};s.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async r=>{try{let i=s.defaultProxyUri;return r.scriptInfo.sqlite3Dir&&(s.defaultProxyUri=r.scriptInfo.sqlite3Dir+i),s().catch(l=>{r.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",l.message)})}catch(i){throw r.config.error("installOpfsVfs() exception:",i),i}})}),typeof n<"u"){const e=Object.assign(Object.create(null),{exports:n.asm,memory:n.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=e;let s;try{s=globalThis.sqlite3ApiBootstrap()}catch(r){throw console.error("sqlite3ApiBootstrap() error:",r),r}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}n.sqlite3=s}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),pe.ready}})();const Ie=function(){var pe,t;const Z=Pe;if(!Z)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const ae=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:(pe=globalThis==null?void 0:globalThis.document)==null?void 0:pe.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:(t=globalThis==null?void 0:globalThis.location)!=null&&t.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(ae.debugModule=ae.urlParams.has("sqlite3.debugModule")?(...ge)=>console.warn("sqlite3.debugModule:",...ge):()=>{},ae.urlParams.has("sqlite3.dir"))ae.sqlite3Dir=ae.urlParams.get("sqlite3.dir")+"/";else if(ae.moduleScript){const ge=ae.moduleScript.src.split("/");ge.pop(),ae.sqlite3Dir=ge.join("/")+"/"}if(globalThis.sqlite3InitModule=function ge(...xe){return Z(...xe).then(ye=>{var Ue,Ce,Te;if(typeof WorkerGlobalScope<"u"&&(ye.ENVIRONMENT_IS_PTHREAD||ye._pthread_self||typeof threadAlert=="function"||(Te=(Ce=(Ue=globalThis==null?void 0:globalThis.location)==null?void 0:Ue.pathname)==null?void 0:Ce.endsWith)!=null&&Te.call(Ce,".worker.js")))return ye;const Re=ye.sqlite3;Re.scriptInfo=ae,ge.__isUnderTest&&(Re.__isUnderTest=!0);const Je=Re.asyncPostInit;return delete Re.asyncPostInit,Je()}).catch(ye=>{throw console.error("Exception loading sqlite3 module:",ye),ye})},globalThis.sqlite3InitModule.ready=Z.ready,globalThis.sqlite3InitModuleState.moduleScript){const ge=globalThis.sqlite3InitModuleState;let xe=ge.moduleScript.src.split("/");xe.pop(),ge.scriptDir=xe.join("/")+"/"}return ae.debugModule("sqlite3InitModuleState =",ae),globalThis.sqlite3InitModule}();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(Z){return Z.constructor.name==="MessagePort"}function Dt(Z){Le(Z)&&Z.close()}function Rt(Z){return Ct(Z,{type:"RELEASE"}).then(()=>{Dt(Z)})}const ut=new WeakMap;"FinalizationRegistry"in globalThis&&new FinalizationRegistry(Z=>{const ae=(ut.get(Z)||0)-1;ut.set(Z,ae),ae===0&&Rt(Z)});function Ct(Z,ae,pe){return new Promise(t=>{const ge=Mt();Z.addEventListener("message",function xe(ye){!ye.data||!ye.data.id||ye.data.id!==ge||(Z.removeEventListener("message",xe),t(ye.data))}),Z.start&&Z.start(),Z.postMessage(Object.assign({id:ge},ae),pe)})}function Mt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const Nt=["./","./index.html","./favicon.png","./js/log2textarea.js","./js/main.js","./css/pico.css","./css/app.css","./img/icon.png","./img/landing.png","./img/logo.png","./img/screenshot.png"];self.addEventListener("install",Z=>{self.skipWaiting(),Z.waitUntil(caches.open(app_name).then(ae=>Promise.all(Nt.map(pe=>ae.add(pe).catch(t=>console.error(`..failed to cache ${pe}:`,t))))))}),self.addEventListener("activate",function(Z){return Z.waitUntil(caches.keys().then(function(ae){return Promise.all(ae.map(function(pe){if(pe!==app_name&&pe!==app_name)return caches.delete(pe)}))})),Z.waitUntil(initDB()),self.clients.claim()});const _t="personas.sqlite";let De;const jt=async()=>{const Z=await Ie({print:console.log,printErr:console.error});"opfs"in Z?(De=new Z.oo1.OpfsDb(_t),console.log("OPFS is available, created persisted database at",De.filename)):(De=new Z.oo1.DB(_t,"ct"),console.log("OPFS is not available, created transient database",De.filename)),await De.exec(`CREATE TABLE IF NOT EXISTS personas(
				id INTEGER PRIMARY KEY AUTOINCREMENT,
				nombre TEXT NOT NULL,
				fechaNacimiento TEXT NOT NULL)`)},Bt=async(Z,ae)=>(await De.exec({sql:"INSERT INTO personas(nombre, fechaNacimiento) VALUES (?, ?) RETURNING *",bind:[Z,ae],returnValue:"resultRows",rowMode:"object"}))[0],zt=async()=>await De.exec({sql:"SELECT id, nombre, fechaNacimiento FROM personas",returnValue:"resultRows",rowMode:"object"});self.onmessage=async Z=>{const ae=Z.data[0],pe=Z.data[1];switch(ae){case"iniciar":await jt(),self.postMessage(["iniciado"]);break;case"insertar_persona":const t=await Bt(pe.nombre,pe.fechaNacimiento);self.postMessage(["persona_insertada",t]);break;case"obtener_personas":const ge=await zt();self.postMessage(["personas_obtenidas",ge]);break}}})();
